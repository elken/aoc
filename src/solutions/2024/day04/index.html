<!DOCTYPE html>
<html><head><meta charset="UTF-8"><meta content="width=device-width, initial-scale=1" name="viewport"><meta content="As soon as I saw &quot;Ceres monitoring station&quot; my heart sank..." property="og:description"><meta content="Problem" property="og:title"><meta content="article:clerk" property="og:type"><meta content="summary_large_image" name="twitter:card"><link href="./../../../../_data/8VwV28rwGucVsymC7xAxLHYmRrTe7rCGL6Z2GkDMWKHZwmBdrd8iRZtTJgwWnXnPsTofN8GQhMnYNeXBdo1D524JjG.css" rel="stylesheet" type="text/css"><script src="https://storage.clerk.garden/nextjournal/clerk-assets@43sknWSpfsWGp1HAfZe1dLuBjmWH/viewer.js?immutable=true" type="module"></script><link href="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.css" rel="stylesheet" type="text/css"><link href="https://fonts.bunny.net" rel="preconnect"><link href="https://fonts.bunny.net/css?family=fira-mono:400,700%7Cfira-sans:400,400i,500,500i,700,700i%7Cfira-sans-condensed:700,700i%7Cpt-serif:400,400i,700,700i" rel="stylesheet" type="text/css"><style id="extra-styles">em {
    font-style: normal !important;
}

html:not(.dark) pre {
    background-color: #f1f5f9 !important;
    color: #7aaac4 !important;
}

.dark em {
    color: #fff !important;
    text-shadow: 0 0 5px #fff !important;
}

.dark pre {
    background-color: rgb(31 41 55 / var(--tw-bg-opacity)) !important;
}

html:not(.dark) em {
    color: #000 !important;
    text-shadow: 0 0 2px #000 !important;
}

.viewer-result:first-child {
    display: none !important;
}
</style></head><body class="dark:bg-gray-900"><div id="clerk"></div><script type="module">let viewer = nextjournal.clerk.sci_env
let state = "{:bundle? false, :path->doc {\"src/solutions/2024/day04\" {:path [], :nextjournal/value {:toc [{:title \"Problem\", :emoji nil, :path \"#problem\", :items []} {:title \"Solution\", :emoji nil, :path \"#solution\", :items [{:title \"Functions\", :emoji nil, :path \"#functions\", :items [{:title \"directions\", :emoji nil, :path \"#directions\", :items []} {:title \"cells-at\", :emoji nil, :path \"#cells-at\", :items []} {:title \"check-xmas\", :emoji nil, :path \"#check-xmas\", :items []} {:title \"check-special\", :emoji nil, :path \"#check-special\", :items []} {:title \"count-matches\", :emoji nil, :path \"#count-matches\", :items []}]} {:title \"Part 1\", :emoji nil, :path \"#part-1\", :items []} {:title \"Part 2\", :emoji nil, :path \"#part-2\", :items []}]}], :sidenotes? false, :toc-visibility true, :atom-var-name->state #viewer-eval (nextjournal.clerk.render/intern-atoms! {}), :ns #viewer-eval (ns solutions.2024.day04), :file \"src/solutions/2024/day04.clj\", :scope solutions.2024.day04, :bundle? false, :header {:path [], :nextjournal/value [:div.viewer.w-full.max-w-prose.px-8.not-prose.mt-3 [:div.mb-8.text-xs.sans-serif.text-slate-400 nil [:<> [:a.font-medium.border-b.border-dotted.border-slate-300.hover:text-indigo-500.hover:border-indigo-500.dark:border-slate-500.dark:hover:text-white.dark:hover:border-white.transition {:href \"./../../../../\"} \"Index\"] [:span.mx-2 \"â€¢\"]] [:span \"Served from \" [:a.font-medium.border-b.border-dotted.border-slate-300.hover:text-indigo-500.hover:border-indigo-500.dark:border-slate-500.dark:hover:text-white.dark:hover:border-white.transition {:href \"https://clerk.vision\"} \"Clerk\"] nil]]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-html, :hash \"5dtFMoRpfSur3BJ5RKN8sHB4mECYMZ\"}}, :open-graph {:type \"article:clerk\", :title \"Problem\", :description \"As soon as I saw \\\"Ceres monitoring station\\\" my heart sank...\"}, :title \"Problem\", :blocks [{:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id \"solutions.2024.day04/markdown-5dqq5acBASUPKy7JX3Uoyxc1KPMN9A\"} [\"h1\" {:id \"problem\"} [:<> \"Problem\"]]], :nextjournal/render-opts {:id \"solutions.2024.day04/markdown-5dqq5acBASUPKy7JX3Uoyxc1KPMN9A\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn identity, :hash \"5dsjzwxRkivFXiBf1NDMWmH54cVWV1\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value [:div {:dangerouslySetInnerHTML {:__html \"<article class=\\\"day-desc\\\"><h2>--- Day 4: Ceres Search ---</h2><p>&quot;Looks like the Chief's not here. Next!&quot; One of The Historians pulls out a device and pushes the only button on it. After a brief flash, you recognize the interior of the <a href=\\\"/2019/day/10\\\">Ceres monitoring station</a>!</p>\\n<p>As the search for the Chief continues, a small Elf who lives on the station tugs on your shirt; she'd like to know if you could help her with her <em>word search</em> (your puzzle input). She only has to find one word: <code>XMAS</code>.</p>\\n<p>This word search allows words to be horizontal, vertical, diagonal, written backwards, or even overlapping other words. It's a little unusual, though, as you don't merely need to find one instance of <code>XMAS</code> - you need to find <em>all of them</em>. Here are a few ways <code>XMAS</code> might appear, where irrelevant characters have been replaced with <code>.</code>:</p><p>\\n</p><pre><code>..X...\\n.SAMX.\\n.A..A.\\nXMAS.S\\n.X....\\n</code></pre>\\n<p>The actual word search will be full of letters instead. For example:</p>\\n<pre><code>MMMSXXMASM\\nMSAMXMSMSA\\nAMXSXMAAMM\\nMSAMASMSMX\\nXMASAMXAMM\\nXXAMMXXAMA\\nSMSMSASXSS\\nSAXAMASAAA\\nMAMMMXMMMM\\nMXMXAXMASX\\n</code></pre>\\n<p>In this word search, <code>XMAS</code> occurs a total of <code><em>18</em></code> times; here's the same word search again, but where letters not involved in any <code>XMAS</code> have been replaced with <code>.</code>:</p>\\n<pre><code>....XXMAS.\\n.SAMXMS...\\n...S..A...\\n..A.A.MS.X\\nXMASAMX.MM\\nX.....XA.A\\nS.S.S.S.SS\\n.A.A.A.A.A\\n..M.M.M.MM\\n.X.X.XMASX\\n</code></pre>\\n<p>Take a look at the little Elf's word search. <em>How many times does <code>XMAS</code> appear?</em></p>\\n</article><article class=\\\"day-desc\\\"><h2 id=\\\"part2\\\">--- Part Two ---</h2><p>The Elf looks quizzically at you. Did you misunderstand the assignment?</p>\\n<p>Looking for the instructions, you flip over the word search to find that this isn't actually an <code><em>XMAS</em></code> puzzle; it's an <span title=\\\"This part originally involved searching for something else, but this joke was too dumb to pass up.\\\"><code><em>X-MAS</em></code></span> puzzle in which you're supposed to find two <code>MAS</code> in the shape of an <code>X</code>. One way to achieve that is like this:</p>\\n<pre><code>M.S\\n.A.\\nM.S\\n</code></pre>\\n<p>Irrelevant characters have again been replaced with <code>.</code> in the above diagram. Within the <code>X</code>, each <code>MAS</code> can be written forwards or backwards.</p>\\n<p>Here's the same example from before, but this time all of the <code>X-MAS</code>es have been kept instead:</p>\\n<pre><code>.M.S......\\n..A..MSMS.\\n.M.S.MAA..\\n..A.ASMSM.\\n.M.S.M....\\n..........\\nS.S.S.S.S.\\n.A.A.A.A..\\nM.M.M.M.M.\\n..........\\n</code></pre>\\n<p>In this example, an <code>X-MAS</code> appears <code><em>9</em></code> times.</p>\\n<p>Flip the word search from the instructions back over to the word search side and try again. <em>How many times does an <code>X-MAS</code> appear?</em></p>\\n</article>\"}}], :nextjournal/visibility {:code :hide, :result :show}, :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-html, :hash \"5dtFMoRpfSur3BJ5RKN8sHB4mECYMZ\"}, :nextjournal/render-opts {:id \"solutions.2024.day04/anon-expr-5dtxd2LgubTtgcwReKwbt77io6AEDt-result\"}}, :nextjournal/blob-id \"5dtnvDu7CuCozu7dq3Uow1Vp7oQW3f\", :nextjournal/fetch-opts {:blob-id \"5dtnvDu7CuCozu7dq3Uow1Vp7oQW3f\"}, :nextjournal/hash \"8Vu7zVyntvcFpZSD1r7GcQyxw7cPouuF4s39mNfV5PwrzM6xtctpdgpNuAhLLbLas7uBJYH84thWr9AnkGQ63UxuvY\"}, :nextjournal/render-opts {:id \"solutions.2024.day04/anon-expr-5dtxd2LgubTtgcwReKwbt77io6AEDt-result\"}, :nextjournal/visibility {:code :hide, :result :show}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dryaWFamQn5VBuSHLJXGpfgbLUTKh\"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id \"solutions.2024.day04/markdown-5dsLF6ttnXLKAZynBoaj5xxMeXpEuY\"} [\"h1\" {:id \"solution\"} [:<> \"Solution\"]] [:p [:<> \"As soon as I saw \\\"Ceres monitoring station\\\" my heart sank...\"]] [:p [:<> \"No word of a lie; these are probably my least favourite problems. I\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-html, :hash \"5dtFMoRpfSur3BJ5RKN8sHB4mECYMZ\"}}] [:<> \"don't know what it is about nearest neighbour stuff, but it just\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-html, :hash \"5dtFMoRpfSur3BJ5RKN8sHB4mECYMZ\"}}] [:<> \"shuts my brain down. That day in 2019 was quite painful...\"]] [:p [:<> \"Today has us doing a similar thing to that 2019 problem, but this\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-html, :hash \"5dtFMoRpfSur3BJ5RKN8sHB4mECYMZ\"}}] [:<> \"time in the guise of a word search.\"]] [:p [:<> \"Part 1 has us simply finding XMAS, whereas part 2 wants us to find\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-html, :hash \"5dtFMoRpfSur3BJ5RKN8sHB4mECYMZ\"}}] [:<> \"an X made of MAS (see the problem definition).\"]] [:p [:<> \"First things first, let's load our input and parse it\"]] [:p [:<> \"We bring back the good old function to parse the input into a grid,\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-html, :hash \"5dtFMoRpfSur3BJ5RKN8sHB4mECYMZ\"}}] [:<> \"this time using \"] [:code [:<> \"map-indexed\"]] [:<> \" to be slightly neater.\"]]], :nextjournal/render-opts {:id \"solutions.2024.day04/markdown-5dsLF6ttnXLKAZynBoaj5xxMeXpEuY\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn identity, :hash \"5dsjzwxRkivFXiBf1NDMWmH54cVWV1\"}} {:path [], :nextjournal/value \"(defn parse-grid [input]\\n  (->> input\\n       clojure.string/split-lines\\n       (map-indexed (fn [y row]\\n                      (map-indexed (fn [x ch] [[x y] ch]) row)))\\n       (apply concat)\\n       (into {})))\", :nextjournal/render-opts {:loc {:line 33, :end-line 39, :column 1, :end-column 19}, :id \"solutions.2024.day04/parse-grid-code\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dtogCRMFvgKZ3gMGuwZAef65oxRZD\"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id \"solutions.2024.day04/markdown-5ds6zjuTL7Y7aU4FsyKsN8eCpEGLee\"} [:p [:<> \"Then we parse\"]]], :nextjournal/render-opts {:id \"solutions.2024.day04/markdown-5ds6zjuTL7Y7aU4FsyKsN8eCpEGLee\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn identity, :hash \"5dsjzwxRkivFXiBf1NDMWmH54cVWV1\"}} {:path [], :nextjournal/value \"(def input (->> (slurp (io/resource \\\"inputs/2024/day04.txt\\\")) ;; Load the resource\\n                parse-grid))                                  ;; Parse into a grid\", :nextjournal/render-opts {:loc {:line 43, :end-line 44, :column 1, :end-column 29}, :id \"solutions.2024.day04/input-code\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dtogCRMFvgKZ3gMGuwZAef65oxRZD\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value [{:path [0], :nextjournal/value [{:path [0 0], :nextjournal/value [{:path [0 0 0], :nextjournal/value 0, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5drsU4XXFvRiNxHZXiNRRP4gBX7jiW\"}} {:path [0 0 1], :nextjournal/value 0, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5drsU4XXFvRiNxHZXiNRRP4gBX7jiW\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/vector-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"[\", :closing-paren (\"]\"), :page-size 20, :hash \"5dsPqhnXQ6NY7bfSdVZe5SH2Voaoff\"}} {:path [0 1], :nextjournal/value \\M, :nextjournal/viewer {:name nextjournal.clerk.viewer/char-viewer, :render-fn #viewer-fn (fn [c] [:span.cmt-string.inspected-value \"\\\\\" c]), :hash \"5dszZJ8fNaGUkLXrqMWmPLpWsi7z57\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/map-entry-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (comp (nextjournal.clerk.render/inspect-children opts) (interpose \" \")) xs)), :page-size 2, :hash \"5droUthZ6BBTwumLFMkuWhk1rT3hT3\"}} {:path [1], :nextjournal/value [{:path [1 0], :nextjournal/value [{:path [1 0 0], :nextjournal/value 0, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5drsU4XXFvRiNxHZXiNRRP4gBX7jiW\"}} {:path [1 0 1], :nextjournal/value 1, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5drsU4XXFvRiNxHZXiNRRP4gBX7jiW\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/vector-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"[\", :closing-paren (\"]\"), :page-size 20, :hash \"5dsPqhnXQ6NY7bfSdVZe5SH2Voaoff\"}} {:path [1 1], :nextjournal/value \\X, :nextjournal/viewer {:name nextjournal.clerk.viewer/char-viewer, :render-fn #viewer-fn (fn [c] [:span.cmt-string.inspected-value \"\\\\\" c]), :hash \"5dszZJ8fNaGUkLXrqMWmPLpWsi7z57\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/map-entry-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (comp (nextjournal.clerk.render/inspect-children opts) (interpose \" \")) xs)), :page-size 2, :hash \"5droUthZ6BBTwumLFMkuWhk1rT3hT3\"}} {:path [2], :nextjournal/value [{:path [2 0], :nextjournal/value [{:path [2 0 0], :nextjournal/value 0, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5drsU4XXFvRiNxHZXiNRRP4gBX7jiW\"}} {:path [2 0 1], :nextjournal/value 2, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5drsU4XXFvRiNxHZXiNRRP4gBX7jiW\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/vector-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"[\", :closing-paren (\"]\"), :page-size 20, :hash \"5dsPqhnXQ6NY7bfSdVZe5SH2Voaoff\"}} {:path [2 1], :nextjournal/value \\S, :nextjournal/viewer {:name nextjournal.clerk.viewer/char-viewer, :render-fn #viewer-fn (fn [c] [:span.cmt-string.inspected-value \"\\\\\" c]), :hash \"5dszZJ8fNaGUkLXrqMWmPLpWsi7z57\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/map-entry-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (comp (nextjournal.clerk.render/inspect-children opts) (interpose \" \")) xs)), :page-size 2, :hash \"5droUthZ6BBTwumLFMkuWhk1rT3hT3\"}} {:path [3], :nextjournal/value [{:path [3 0], :nextjournal/value [{:path [3 0 0], :nextjournal/value 0, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5drsU4XXFvRiNxHZXiNRRP4gBX7jiW\"}} {:path [3 0 1], :nextjournal/value 3, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5drsU4XXFvRiNxHZXiNRRP4gBX7jiW\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/vector-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"[\", :closing-paren (\"]\"), :page-size 20, :hash \"5dsPqhnXQ6NY7bfSdVZe5SH2Voaoff\"}} {:path [3 1], :nextjournal/value \\X, :nextjournal/viewer {:name nextjournal.clerk.viewer/char-viewer, :render-fn #viewer-fn (fn [c] [:span.cmt-string.inspected-value \"\\\\\" c]), :hash \"5dszZJ8fNaGUkLXrqMWmPLpWsi7z57\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/map-entry-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (comp (nextjournal.clerk.render/inspect-children opts) (interpose \" \")) xs)), :page-size 2, :hash \"5droUthZ6BBTwumLFMkuWhk1rT3hT3\"}} {:path [4], :nextjournal/value [{:path [4 0], :nextjournal/value [{:path [4 0 0], :nextjournal/value 0, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5drsU4XXFvRiNxHZXiNRRP4gBX7jiW\"}} {:path [4 0 1], :nextjournal/value 4, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5drsU4XXFvRiNxHZXiNRRP4gBX7jiW\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/vector-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"[\", :closing-paren (\"]\"), :page-size 20, :hash \"5dsPqhnXQ6NY7bfSdVZe5SH2Voaoff\"}} {:path [4 1], :nextjournal/value \\M, :nextjournal/viewer {:name nextjournal.clerk.viewer/char-viewer, :render-fn #viewer-fn (fn [c] [:span.cmt-string.inspected-value \"\\\\\" c]), :hash \"5dszZJ8fNaGUkLXrqMWmPLpWsi7z57\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/map-entry-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (comp (nextjournal.clerk.render/inspect-children opts) (interpose \" \")) xs)), :page-size 2, :hash \"5droUthZ6BBTwumLFMkuWhk1rT3hT3\"}} {:path [5], :nextjournal/value [{:path [5 0], :nextjournal/value [{:path [5 0 0], :nextjournal/value 0, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5drsU4XXFvRiNxHZXiNRRP4gBX7jiW\"}} {:path [5 0 1], :nextjournal/value 5, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5drsU4XXFvRiNxHZXiNRRP4gBX7jiW\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/vector-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"[\", :closing-paren (\"]\"), :page-size 20, :hash \"5dsPqhnXQ6NY7bfSdVZe5SH2Voaoff\"}} {:path [5 1], :nextjournal/value \\S, :nextjournal/viewer {:name nextjournal.clerk.viewer/char-viewer, :render-fn #viewer-fn (fn [c] [:span.cmt-string.inspected-value \"\\\\\" c]), :hash \"5dszZJ8fNaGUkLXrqMWmPLpWsi7z57\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/map-entry-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (comp (nextjournal.clerk.render/inspect-children opts) (interpose \" \")) xs)), :page-size 2, :hash \"5droUthZ6BBTwumLFMkuWhk1rT3hT3\"}} {:path [6], :nextjournal/value [{:path [6 0], :nextjournal/value [{:path [6 0 0], :nextjournal/value 0, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5drsU4XXFvRiNxHZXiNRRP4gBX7jiW\"}} {:path [6 0 1], :nextjournal/value 6, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5drsU4XXFvRiNxHZXiNRRP4gBX7jiW\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/vector-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"[\", :closing-paren (\"]\"), :page-size 20, :hash \"5dsPqhnXQ6NY7bfSdVZe5SH2Voaoff\"}} {:path [6 1], :nextjournal/value \\M, :nextjournal/viewer {:name nextjournal.clerk.viewer/char-viewer, :render-fn #viewer-fn (fn [c] [:span.cmt-string.inspected-value \"\\\\\" c]), :hash \"5dszZJ8fNaGUkLXrqMWmPLpWsi7z57\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/map-entry-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (comp (nextjournal.clerk.render/inspect-children opts) (interpose \" \")) xs)), :page-size 2, :hash \"5droUthZ6BBTwumLFMkuWhk1rT3hT3\"}} {:path [7], :nextjournal/value [{:path [7 0], :nextjournal/value [{:path [7 0 0], :nextjournal/value 0, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5drsU4XXFvRiNxHZXiNRRP4gBX7jiW\"}} {:path [7 0 1], :nextjournal/value 7, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5drsU4XXFvRiNxHZXiNRRP4gBX7jiW\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/vector-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"[\", :closing-paren (\"]\"), :page-size 20, :hash \"5dsPqhnXQ6NY7bfSdVZe5SH2Voaoff\"}} {:path [7 1], :nextjournal/value \\M, :nextjournal/viewer {:name nextjournal.clerk.viewer/char-viewer, :render-fn #viewer-fn (fn [c] [:span.cmt-string.inspected-value \"\\\\\" c]), :hash \"5dszZJ8fNaGUkLXrqMWmPLpWsi7z57\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/map-entry-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (comp (nextjournal.clerk.render/inspect-children opts) (interpose \" \")) xs)), :page-size 2, :hash \"5droUthZ6BBTwumLFMkuWhk1rT3hT3\"}} {:path [8], :nextjournal/value [{:path [8 0], :nextjournal/value [{:path [8 0 0], :nextjournal/value 0, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5drsU4XXFvRiNxHZXiNRRP4gBX7jiW\"}} {:path [8 0 1], :nextjournal/value 8, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5drsU4XXFvRiNxHZXiNRRP4gBX7jiW\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/vector-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"[\", :closing-paren (\"]\"), :page-size 20, :hash \"5dsPqhnXQ6NY7bfSdVZe5SH2Voaoff\"}} {:path [8 1], :nextjournal/value \\M, :nextjournal/viewer {:name nextjournal.clerk.viewer/char-viewer, :render-fn #viewer-fn (fn [c] [:span.cmt-string.inspected-value \"\\\\\" c]), :hash \"5dszZJ8fNaGUkLXrqMWmPLpWsi7z57\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/map-entry-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (comp (nextjournal.clerk.render/inspect-children opts) (interpose \" \")) xs)), :page-size 2, :hash \"5droUthZ6BBTwumLFMkuWhk1rT3hT3\"}} {:path [9], :nextjournal/value [{:path [9 0], :nextjournal/value [{:path [9 0 0], :nextjournal/value 0, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5drsU4XXFvRiNxHZXiNRRP4gBX7jiW\"}} {:path [9 0 1], :nextjournal/value 9, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5drsU4XXFvRiNxHZXiNRRP4gBX7jiW\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/vector-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"[\", :closing-paren (\"]\"), :page-size 20, :hash \"5dsPqhnXQ6NY7bfSdVZe5SH2Voaoff\"}} {:path [9 1], :nextjournal/value \\M, :nextjournal/viewer {:name nextjournal.clerk.viewer/char-viewer, :render-fn #viewer-fn (fn [c] [:span.cmt-string.inspected-value \"\\\\\" c]), :hash \"5dszZJ8fNaGUkLXrqMWmPLpWsi7z57\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/map-entry-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (comp (nextjournal.clerk.render/inspect-children opts) (interpose \" \")) xs)), :page-size 2, :hash \"5droUthZ6BBTwumLFMkuWhk1rT3hT3\"}} {:nextjournal/value {:n 10, :path [], :total 19600, :offset 10}, :nextjournal/viewer {:name nextjournal.clerk.viewer/elision-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-elision, :hash \"5dspwtw9QTXohtFfqtoeWBkFHRFp9w\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/map-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-map, :opening-paren \"{\", :closing-paren (\"}\"), :page-size 10, :hash \"5drSiYgxwbGAGQx15hZm4Ts9vK16be\"}, :nextjournal/render-opts {:id \"solutions.2024.day04/input-result\"}}, :nextjournal/blob-id \"5dsEaTUo4CGemi6WxtjP72mzfpWBbB\", :nextjournal/fetch-opts {:blob-id \"5dsEaTUo4CGemi6WxtjP72mzfpWBbB\"}, :nextjournal/hash \"8VubAinZnL17MZ5A5TXL6kAvM3KysMxd2Nhiu7aDDtRwtE7PvasvMM6cTL8EiNReJsMUa8GinN8uFtKpS5ok2bAsqn\"}, :nextjournal/render-opts {:id \"solutions.2024.day04/input-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dryaWFamQn5VBuSHLJXGpfgbLUTKh\"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id \"solutions.2024.day04/markdown-5drjHhQZRqpHtaF4N26mLyicTGxmLc\"} [\"h2\" {:id \"functions\"} [:<> \"Functions\"]] [\"h3\" {:id \"directions\"} [:<> \"directions\"]] [:p [:<> \"Our simple generator of all possible coordinates\"]] [:p [:<> \"Useful to quickly compute as we can just \"] [:code [:<> \"map\"]] [:<> \" over this.\"]]], :nextjournal/render-opts {:id \"solutions.2024.day04/markdown-5drjHhQZRqpHtaF4N26mLyicTGxmLc\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn identity, :hash \"5dsjzwxRkivFXiBf1NDMWmH54cVWV1\"}} {:path [], :nextjournal/value \"(def directions \\n  (for [x [-1 0 1]\\n        y [-1 0 1]\\n        :when (not= [x y] [0 0])]\\n    [x y]))\", :nextjournal/render-opts {:loc {:line 51, :end-line 55, :column 1, :end-column 12}, :id \"solutions.2024.day04/directions-code\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dtogCRMFvgKZ3gMGuwZAef65oxRZD\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value [{:path [0], :nextjournal/value [{:path [0 0], :nextjournal/value -1, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5drsU4XXFvRiNxHZXiNRRP4gBX7jiW\"}} {:path [0 1], :nextjournal/value -1, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5drsU4XXFvRiNxHZXiNRRP4gBX7jiW\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/vector-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"[\", :closing-paren (\"]\"), :page-size 20, :hash \"5dsPqhnXQ6NY7bfSdVZe5SH2Voaoff\"}} {:path [1], :nextjournal/value [{:path [1 0], :nextjournal/value -1, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5drsU4XXFvRiNxHZXiNRRP4gBX7jiW\"}} {:path [1 1], :nextjournal/value 0, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5drsU4XXFvRiNxHZXiNRRP4gBX7jiW\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/vector-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"[\", :closing-paren (\"]\"), :page-size 20, :hash \"5dsPqhnXQ6NY7bfSdVZe5SH2Voaoff\"}} {:path [2], :nextjournal/value [{:path [2 0], :nextjournal/value -1, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5drsU4XXFvRiNxHZXiNRRP4gBX7jiW\"}} {:path [2 1], :nextjournal/value 1, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5drsU4XXFvRiNxHZXiNRRP4gBX7jiW\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/vector-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"[\", :closing-paren (\"]\"), :page-size 20, :hash \"5dsPqhnXQ6NY7bfSdVZe5SH2Voaoff\"}} {:path [3], :nextjournal/value [{:path [3 0], :nextjournal/value 0, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5drsU4XXFvRiNxHZXiNRRP4gBX7jiW\"}} {:path [3 1], :nextjournal/value -1, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5drsU4XXFvRiNxHZXiNRRP4gBX7jiW\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/vector-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"[\", :closing-paren (\"]\"), :page-size 20, :hash \"5dsPqhnXQ6NY7bfSdVZe5SH2Voaoff\"}} {:path [4], :nextjournal/value [{:path [4 0], :nextjournal/value 0, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5drsU4XXFvRiNxHZXiNRRP4gBX7jiW\"}} {:path [4 1], :nextjournal/value 1, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5drsU4XXFvRiNxHZXiNRRP4gBX7jiW\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/vector-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"[\", :closing-paren (\"]\"), :page-size 20, :hash \"5dsPqhnXQ6NY7bfSdVZe5SH2Voaoff\"}} {:path [5], :nextjournal/value [{:path [5 0], :nextjournal/value 1, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5drsU4XXFvRiNxHZXiNRRP4gBX7jiW\"}} {:path [5 1], :nextjournal/value -1, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5drsU4XXFvRiNxHZXiNRRP4gBX7jiW\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/vector-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"[\", :closing-paren (\"]\"), :page-size 20, :hash \"5dsPqhnXQ6NY7bfSdVZe5SH2Voaoff\"}} {:path [6], :nextjournal/value [{:path [6 0], :nextjournal/value 1, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5drsU4XXFvRiNxHZXiNRRP4gBX7jiW\"}} {:path [6 1], :nextjournal/value 0, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5drsU4XXFvRiNxHZXiNRRP4gBX7jiW\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/vector-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"[\", :closing-paren (\"]\"), :page-size 20, :hash \"5dsPqhnXQ6NY7bfSdVZe5SH2Voaoff\"}} {:path [7], :nextjournal/value [{:path [7 0], :nextjournal/value 1, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5drsU4XXFvRiNxHZXiNRRP4gBX7jiW\"}} {:path [7 1], :nextjournal/value 1, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5drsU4XXFvRiNxHZXiNRRP4gBX7jiW\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/vector-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"[\", :closing-paren (\"]\" \")\"), :page-size 20, :hash \"5dsPqhnXQ6NY7bfSdVZe5SH2Voaoff\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/sequential-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"(\", :page-size 20, :hash \"5dsbke2PwYQkQmXANR3WnQrqsZk2MW\"}, :nextjournal/render-opts {:id \"solutions.2024.day04/directions-result\"}}, :nextjournal/blob-id \"5ds8mwuBFkgPtKE1fkNseSF29inEgV\", :nextjournal/fetch-opts {:blob-id \"5ds8mwuBFkgPtKE1fkNseSF29inEgV\"}, :nextjournal/hash \"8VwxcdL8AsL3VLnNACUstWUDz18hTL7mKFhPMqhyX6dsLnhe7HjBrXtcsHcCPMZwLuiuQmBDkUAmYJhByJdiCP33V4\"}, :nextjournal/render-opts {:id \"solutions.2024.day04/directions-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dryaWFamQn5VBuSHLJXGpfgbLUTKh\"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id \"solutions.2024.day04/markdown-5dtNGSUjzemhYhCAZ4gRETXnRcSs5z\"} [\"h3\" {:id \"cells-at\"} [:<> \"cells-at\"]] [:p [:<> \"Given the grid, a current position and offsets to search; return a string of the string we've found.\"]]], :nextjournal/render-opts {:id \"solutions.2024.day04/markdown-5dtNGSUjzemhYhCAZ4gRETXnRcSs5z\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn identity, :hash \"5dsjzwxRkivFXiBf1NDMWmH54cVWV1\"}} {:path [], :nextjournal/value \"(defn cells-at [grid pos offsets]\\n  (map #(get grid (mapv + pos %) \\\"\\\") offsets))\", :nextjournal/render-opts {:loc {:line 61, :end-line 62, :column 1, :end-column 47}, :id \"solutions.2024.day04/cells-at-code\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dtogCRMFvgKZ3gMGuwZAef65oxRZD\"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id \"solutions.2024.day04/markdown-5dqqAyVanXBXkgZXamokn6GR9kisnV\"} [:p [:<> \"Which looks like\"]]], :nextjournal/render-opts {:id \"solutions.2024.day04/markdown-5dqqAyVanXBXkgZXamokn6GR9kisnV\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn identity, :hash \"5dsjzwxRkivFXiBf1NDMWmH54cVWV1\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"MMMS\", :nextjournal/viewer {:name nextjournal.clerk.viewer/string-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsoVKnSNgnKXj1Cv4qvD6xr6wMks7\"}, :nextjournal/render-opts {:id \"solutions.2024.day04/anon-expr-5dsdn9FYAxTWbW8aGc7giJ2x2a8EE6-result\"}}, :nextjournal/blob-id \"5dt6eoSgfuiH4nPDjwC8rzFGKrahgR\", :nextjournal/fetch-opts {:blob-id \"5dt6eoSgfuiH4nPDjwC8rzFGKrahgR\"}, :nextjournal/hash \"8VwPxEuBhSdYf3hCAPWt2b3PyDYpegNLgvrNEdn1fqY77iM49nDwVnoureqHPS44dCjvydNsHVuJhvjXsNuMNJ9q4n\"}, :nextjournal/render-opts {:id \"solutions.2024.day04/anon-expr-5dsdn9FYAxTWbW8aGc7giJ2x2a8EE6-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dryaWFamQn5VBuSHLJXGpfgbLUTKh\"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id \"solutions.2024.day04/markdown-5drKnmqo7gY8ghyUEBGBCAucoxoVDo\"} [\"h3\" {:id \"check-xmas\"} [:<> \"check-xmas\"]] [:p [:<> \"Our part 1 solver.\"]] [:p [:<> \"Given the grid, a position to search from and a direction to search\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-html, :hash \"5dtFMoRpfSur3BJ5RKN8sHB4mECYMZ\"}}] [:<> \"in; return true or false if we found a match.\"]] [:p [:<> \"Here we use a transducer to build up the string by getting all\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-html, :hash \"5dtFMoRpfSur3BJ5RKN8sHB4mECYMZ\"}}] [:<> \"valid neighbours in the direction specified and comparing to XMAS\"]]], :nextjournal/render-opts {:id \"solutions.2024.day04/markdown-5drKnmqo7gY8ghyUEBGBCAucoxoVDo\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn identity, :hash \"5dsjzwxRkivFXiBf1NDMWmH54cVWV1\"}} {:path [], :nextjournal/value \"(defn check-xmas [grid pos dir]\\n  (= \\\"XMAS\\\" \\n     (transduce (comp (map #(mapv + pos (map * dir (repeat %))))\\n                      (map #(get grid % \\\"\\\")))\\n                str\\n                \\\"\\\"\\n                (range 4))))\", :nextjournal/render-opts {:loc {:line 79, :end-line 85, :column 1, :end-column 29}, :id \"solutions.2024.day04/check-xmas-code\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dtogCRMFvgKZ3gMGuwZAef65oxRZD\"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id \"solutions.2024.day04/markdown-5duEjvWMvAXFnTne9SdddinjHVYMLu\"} [\"h3\" {:id \"check-special\"} [:<> \"check-special\"]] [:p [:<> \"Our part 2 solver.\"]] [:p [:<> \"This time we have to take a different approach as we're only considering diagonals.\"]] [:p [:<> \"We do this by trying to find a MAS in one diagonal and an MS in the orthogonal.\"]]], :nextjournal/render-opts {:id \"solutions.2024.day04/markdown-5duEjvWMvAXFnTne9SdddinjHVYMLu\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn identity, :hash \"5dsjzwxRkivFXiBf1NDMWmH54cVWV1\"}} {:path [], :nextjournal/value \"(defn check-special [grid pos [dx dy :as dir]]\\n  (when (and (not (zero? dx)) \\n             (not (zero? dy)))\\n    (let [orthog [(- dy) dx]\\n          at #(get grid (mapv + pos %) \\\"\\\")]\\n      (and (= (str (at dir) (at [0 0]) (at (map - dir))) \\\"MAS\\\")\\n           (= (str (at orthog) (at (map - orthog))) \\\"MS\\\")))))\", :nextjournal/render-opts {:loc {:line 93, :end-line 99, :column 1, :end-column 62}, :id \"solutions.2024.day04/check-special-code\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dtogCRMFvgKZ3gMGuwZAef65oxRZD\"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id \"solutions.2024.day04/markdown-5dt1GSCT6P6Lwis29DPTE19hEoMdV5\"} [\"h3\" {:id \"count-matches\"} [:<> \"count-matches\"]] [:p [:<> \"Last but not least; our general solver function! Takes one of the\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-html, :hash \"5dtFMoRpfSur3BJ5RKN8sHB4mECYMZ\"}}] [:<> \"part's predicates and a grid and computes all the matches.\"]]], :nextjournal/render-opts {:id \"solutions.2024.day04/markdown-5dt1GSCT6P6Lwis29DPTE19hEoMdV5\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn identity, :hash \"5dsjzwxRkivFXiBf1NDMWmH54cVWV1\"}} {:path [], :nextjournal/value \"(defn count-matches [pred grid]\\n  (->> (for [pos (keys grid)\\n             dir directions\\n             :when (pred grid pos dir)]\\n         1)\\n       count))\", :nextjournal/render-opts {:loc {:line 104, :end-line 109, :column 1, :end-column 15}, :id \"solutions.2024.day04/count-matches-code\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dtogCRMFvgKZ3gMGuwZAef65oxRZD\"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id \"solutions.2024.day04/markdown-5dtY5ocADw15MszwmWFQ68h3naMPBW\"} [\"h2\" {:id \"part-1\"} [:<> \"Part 1\"]] [:p [:<> \"Part 1 just wants us to find all the XMAS values\"]]], :nextjournal/render-opts {:id \"solutions.2024.day04/markdown-5dtY5ocADw15MszwmWFQ68h3naMPBW\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn identity, :hash \"5dsjzwxRkivFXiBf1NDMWmH54cVWV1\"}} {:path [], :nextjournal/value \"(defn part-1\\n  [input]\\n  (count-matches check-xmas input))\", :nextjournal/render-opts {:loc {:line 114, :end-line 116, :column 1, :end-column 36}, :id \"solutions.2024.day04/part-1-code\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dtogCRMFvgKZ3gMGuwZAef65oxRZD\"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id \"solutions.2024.day04/markdown-5dsCmyHsvB8C19ZLVyDeAMusv11HXT\"} [:p [:<> \"Which gives our answer\"]]], :nextjournal/render-opts {:id \"solutions.2024.day04/markdown-5dsCmyHsvB8C19ZLVyDeAMusv11HXT\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn identity, :hash \"5dsjzwxRkivFXiBf1NDMWmH54cVWV1\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value 2618, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5drsU4XXFvRiNxHZXiNRRP4gBX7jiW\"}, :nextjournal/render-opts {:id \"solutions.2024.day04/anon-expr-5dqyLURFdt23SKEykkvPQp381ApJNL-result\"}}, :nextjournal/blob-id \"5dsEjuRCDNHMonNr585fvtUayXqhNC\", :nextjournal/fetch-opts {:blob-id \"5dsEjuRCDNHMonNr585fvtUayXqhNC\"}, :nextjournal/hash \"8VumuiUDr8oCjitC48UkHVdAkyVbNSrhB6qm1qUN4bntLKr8DrmXZUiTX9RbZ8mKMgwy1Jh1oCjbhgQMZthzhXZMQM\"}, :nextjournal/render-opts {:id \"solutions.2024.day04/anon-expr-5dqyLURFdt23SKEykkvPQp381ApJNL-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dryaWFamQn5VBuSHLJXGpfgbLUTKh\"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id \"solutions.2024.day04/markdown-5dtLHRNtsdMLURAW6bUtuHqvHKmRmF\"} [\"h2\" {:id \"part-2\"} [:<> \"Part 2\"]] [:p [:<> \"Part 2 instead wants us to find all the MAS values that form an X\"]]], :nextjournal/render-opts {:id \"solutions.2024.day04/markdown-5dtLHRNtsdMLURAW6bUtuHqvHKmRmF\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn identity, :hash \"5dsjzwxRkivFXiBf1NDMWmH54cVWV1\"}} {:path [], :nextjournal/value \"(defn part-2\\n  [input]\\n  (count-matches check-special input))\", :nextjournal/render-opts {:loc {:line 125, :end-line 127, :column 1, :end-column 39}, :id \"solutions.2024.day04/part-2-code\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dtogCRMFvgKZ3gMGuwZAef65oxRZD\"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id \"solutions.2024.day04/markdown-5dsCmyHsvB8C19ZLVyDeAMusv11HXT#2\"} [:p [:<> \"Which gives our answer\"]]], :nextjournal/render-opts {:id \"solutions.2024.day04/markdown-5dsCmyHsvB8C19ZLVyDeAMusv11HXT#2\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn identity, :hash \"5dsjzwxRkivFXiBf1NDMWmH54cVWV1\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value 2011, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5drsU4XXFvRiNxHZXiNRRP4gBX7jiW\"}, :nextjournal/render-opts {:id \"solutions.2024.day04/anon-expr-5dstDS4zmbArT87H81wfsNt68WWiqo-result\"}}, :nextjournal/blob-id \"5drVra1DyZx7DcE3WH5mYuJdD1Eg3Z\", :nextjournal/fetch-opts {:blob-id \"5drVra1DyZx7DcE3WH5mYuJdD1Eg3Z\"}, :nextjournal/hash \"8VwyQTgdRWjHmsvbRfnXqEgQT1bgcB4xdCfJkh8d4WuYG5tTEoyG4AMns57nZwPSSjhxFU8oyBS8XEdPW6B3p58Dyb\"}, :nextjournal/render-opts {:id \"solutions.2024.day04/anon-expr-5dstDS4zmbArT87H81wfsNt68WWiqo-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dryaWFamQn5VBuSHLJXGpfgbLUTKh\"}}]}, :nextjournal/viewer {:name nextjournal.clerk.viewer/notebook-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-notebook, :hash \"5dsiHybTyGGTEpReRaV7nfNxoDgnKx\"}}}, :current-path \"src/solutions/2024/day04\", :resource->url {\"/js/viewer.js\" \"https://storage.clerk.garden/nextjournal/clerk-assets@43sknWSpfsWGp1HAfZe1dLuBjmWH/viewer.js?immutable=true\", \"/css/viewer.css\" \"_data/8VwV28rwGucVsymC7xAxLHYmRrTe7rCGL6Z2GkDMWKHZwmBdrd8iRZtTJgwWnXnPsTofN8GQhMnYNeXBdo1D524JjG.css\"}, :index \"src/index.clj\"}".replaceAll('nextjournal.clerk.view/escape-closing-script-tag', 'script')
viewer.init(viewer.read_string(state))
</script></body></html>