<!DOCTYPE html>
<html><head><meta charset="UTF-8"><meta content="width=device-width, initial-scale=1" name="viewport"><meta content="Another of my most hated of all the days..." property="og:description"><meta content="Problem" property="og:title"><meta content="article:clerk" property="og:type"><meta content="summary_large_image" name="twitter:card"><link href="./../../../../_data/8VwV28rwGucVsymC7xAxLHYmRrTe7rCGL6Z2GkDMWKHZwmBdrd8iRZtTJgwWnXnPsTofN8GQhMnYNeXBdo1D524JjG.css" rel="stylesheet" type="text/css"><script src="https://storage.clerk.garden/nextjournal/clerk-assets@43sknWSpfsWGp1HAfZe1dLuBjmWH/viewer.js?immutable=true" type="module"></script><link href="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.css" rel="stylesheet" type="text/css"><link href="https://fonts.bunny.net" rel="preconnect"><link href="https://fonts.bunny.net/css?family=fira-mono:400,700%7Cfira-sans:400,400i,500,500i,700,700i%7Cfira-sans-condensed:700,700i%7Cpt-serif:400,400i,700,700i" rel="stylesheet" type="text/css"><style id="extra-styles">em {
    font-style: normal !important;
}

html:not(.dark) pre {
    background-color: #f1f5f9 !important;
    color: #7aaac4 !important;
}

.dark em {
    color: #fff !important;
    text-shadow: 0 0 5px #fff !important;
}

.dark pre {
    background-color: rgb(31 41 55 / var(--tw-bg-opacity)) !important;
}

html:not(.dark) em {
    color: #000 !important;
    text-shadow: 0 0 2px #000 !important;
}

.viewer-result:first-child {
    display: none !important;
}
</style></head><body class="dark:bg-gray-900"><div id="clerk"></div><script type="module">let viewer = nextjournal.clerk.sci_env
let state = "{:bundle? false, :path->doc {\"src/solutions/2024/day06\" {:path [], :nextjournal/value {:toc [{:title \"Problem\", :emoji nil, :path \"#problem\", :items []} {:title \"Solution\", :emoji nil, :path \"#solution\", :items [{:title \"Functions\", :emoji nil, :path \"#functions\", :items [{:title \"in-bounds?\", :emoji nil, :path \"#in-bounds?\", :items []} {:title \"traverse\", :emoji nil, :path \"#traverse\", :items [{:title \"No loops (part 1)\", :emoji nil, :path \"#no-loops-(part-1)\", :items []} {:title \"With loops (part 2)\", :emoji nil, :path \"#with-loops-(part-2)\", :items []}]} {:title \"check-loop?\", :emoji nil, :path \"#check-loop?\", :items []}]} {:title \"Part 1\", :emoji nil, :path \"#part-1\", :items []} {:title \"Part 2\", :emoji nil, :path \"#part-2\", :items []}]}], :sidenotes? false, :toc-visibility true, :atom-var-name->state #viewer-eval (nextjournal.clerk.render/intern-atoms! {}), :ns #viewer-eval (ns solutions.2024.day06), :file \"src/solutions/2024/day06.clj\", :scope solutions.2024.day06, :bundle? false, :header {:path [], :nextjournal/value [:div.viewer.w-full.max-w-prose.px-8.not-prose.mt-3 [:div.mb-8.text-xs.sans-serif.text-slate-400 nil [:<> [:a.font-medium.border-b.border-dotted.border-slate-300.hover:text-indigo-500.hover:border-indigo-500.dark:border-slate-500.dark:hover:text-white.dark:hover:border-white.transition {:href \"./../../../../\"} \"Index\"] [:span.mx-2 \"â€¢\"]] [:span \"Served from \" [:a.font-medium.border-b.border-dotted.border-slate-300.hover:text-indigo-500.hover:border-indigo-500.dark:border-slate-500.dark:hover:text-white.dark:hover:border-white.transition {:href \"https://clerk.vision\"} \"Clerk\"] nil]]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-html, :hash \"5dtFMoRpfSur3BJ5RKN8sHB4mECYMZ\"}}, :open-graph {:type \"article:clerk\", :title \"Problem\", :description \"Another of my most hated of all the days...\"}, :title \"Problem\", :blocks [{:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id \"solutions.2024.day06/markdown-5dqq5acBASUPKy7JX3Uoyxc1KPMN9A\"} [\"h1\" {:id \"problem\"} [:<> \"Problem\"]]], :nextjournal/render-opts {:id \"solutions.2024.day06/markdown-5dqq5acBASUPKy7JX3Uoyxc1KPMN9A\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn identity, :hash \"5dsjzwxRkivFXiBf1NDMWmH54cVWV1\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value [:div {:dangerouslySetInnerHTML {:__html \"<article class=\\\"day-desc\\\"><h2>--- Day 6: Guard Gallivant ---</h2><p>The Historians use their fancy <a href=\\\"4\\\">device</a> again, this time to whisk you all away to the North Pole prototype suit manufacturing lab... in the year <a href=\\\"/2018/day/5\\\">1518</a>! It turns out that having direct access to history is very convenient for a group of historians.</p>\\n<p>You still have to be careful of time paradoxes, and so it will be important to avoid anyone from 1518 while The Historians search for the Chief. Unfortunately, a single <em>guard</em> is patrolling this part of the lab.</p>\\n<p>Maybe you can work out where the guard will go ahead of time so that The Historians can search safely?</p>\\n<p>You start by making a map (your puzzle input) of the situation. For example:</p>\\n<pre><code>....#.....\\n.........#\\n..........\\n..#.......\\n.......#..\\n..........\\n.#..^.....\\n........#.\\n#.........\\n......#...\\n</code></pre>\\n<p>The map shows the current position of the guard with <code>^</code> (to indicate the guard is currently facing <em>up</em> from the perspective of the map). Any <em>obstructions</em> - crates, desks, alchemical reactors, etc. - are shown as <code>#</code>.</p>\\n<p>Lab guards in 1518 follow a very strict patrol protocol which involves repeatedly following these steps:</p>\\n<ul>\\n<li>If there is something directly in front of you, turn right 90 degrees.</li>\\n<li>Otherwise, take a step forward.</li>\\n</ul>\\n<p>Following the above protocol, the guard moves up several times until she reaches an obstacle (in this case, a pile of failed suit prototypes):</p>\\n<pre><code>....#.....\\n....^....#\\n..........\\n..#.......\\n.......#..\\n..........\\n.#........\\n........#.\\n#.........\\n......#...\\n</code></pre>\\n<p>Because there is now an obstacle in front of the guard, she turns right before continuing straight in her new facing direction:</p>\\n<pre><code>....#.....\\n........&gt;#\\n..........\\n..#.......\\n.......#..\\n..........\\n.#........\\n........#.\\n#.........\\n......#...\\n</code></pre>\\n<p>Reaching another obstacle (a spool of several <em>very</em> long polymers), she turns right again and continues downward:</p>\\n<pre><code>....#.....\\n.........#\\n..........\\n..#.......\\n.......#..\\n..........\\n.#......v.\\n........#.\\n#.........\\n......#...\\n</code></pre>\\n<p>This process continues for a while, but the guard eventually leaves the mapped area (after walking past a tank of universal solvent):</p>\\n<pre><code>....#.....\\n.........#\\n..........\\n..#.......\\n.......#..\\n..........\\n.#........\\n........#.\\n#.........\\n......#v..\\n</code></pre>\\n<p>By predicting the guard's route, you can determine which specific positions in the lab will be in the patrol path. <em>Including the guard's starting position</em>, the positions visited by the guard before leaving the area are marked with an <code>X</code>:</p>\\n<pre><code>....#.....\\n....XXXXX#\\n....X...X.\\n..#.X...X.\\n..XXXXX#X.\\n..X.X.X.X.\\n.#XXXXXXX.\\n.XXXXXXX#.\\n#XXXXXXX..\\n......#X..\\n</code></pre>\\n<p>In this example, the guard will visit <code><em>41</em></code> distinct positions on your map.</p>\\n<p>Predict the path of the guard. <em>How many distinct positions will the guard visit before leaving the mapped area?</em></p>\\n</article><article class=\\\"day-desc\\\"><h2 id=\\\"part2\\\">--- Part Two ---</h2><p>While The Historians begin working around the guard's patrol route, you borrow their fancy device and step outside the lab. From the safety of a supply closet, you time travel through the last few months and <a href=\\\"/2018/day/4\\\">record</a> the nightly status of the lab's guard post on the walls of the closet.</p>\\n<p>Returning after what seems like only a few seconds to The Historians, they explain that the guard's patrol area is simply too large for them to safely search the lab without getting caught.</p>\\n<p>Fortunately, they are <em>pretty sure</em> that adding a single new obstruction <em>won't</em> cause a time paradox. They'd like to place the new obstruction in such a way that the guard will get <span title=\\\"This vulnerability was later fixed by having the guard always turn left instead.\\\"><em>stuck in a loop</em></span>, making the rest of the lab safe to search.</p>\\n<p>To have the lowest chance of creating a time paradox, The Historians would like to know <em>all</em> of the possible positions for such an obstruction. The new obstruction can't be placed at the guard's starting position - the guard is there right now and would notice.</p>\\n<p>In the above example, there are only <code><em>6</em></code> different positions where a new obstruction would cause the guard to get stuck in a loop. The diagrams of these six situations use <code>O</code> to mark the new obstruction, <code>|</code> to show a position where the guard moves up/down, <code>-</code> to show a position where the guard moves left/right, and <code>+</code> to show a position where the guard moves both up/down and left/right.</p>\\n<p>Option one, put a printing press next to the guard's starting position:</p>\\n<pre><code>....#.....\\n....+---+#\\n....|...|.\\n..#.|...|.\\n....|..#|.\\n....|...|.\\n.#.<em>O</em>^---+.\\n........#.\\n#.........\\n......#...\\n</code></pre>\\n<p>Option two, put a stack of failed suit prototypes in the bottom right quadrant of the mapped area:</p><p>\\n</p><pre><code>....#.....\\n....+---+#\\n....|...|.\\n..#.|...|.\\n..+-+-+#|.\\n..|.|.|.|.\\n.#+-^-+-+.\\n......<em>O</em>.#.\\n#.........\\n......#...\\n</code></pre>\\n<p>Option three, put a crate of chimney-squeeze prototype fabric next to the standing desk in the bottom right quadrant:</p>\\n<pre><code>....#.....\\n....+---+#\\n....|...|.\\n..#.|...|.\\n..+-+-+#|.\\n..|.|.|.|.\\n.#+-^-+-+.\\n.+----+<em>O</em>#.\\n#+----+...\\n......#...\\n</code></pre>\\n<p>Option four, put an alchemical retroencabulator near the bottom left corner:</p>\\n<pre><code>....#.....\\n....+---+#\\n....|...|.\\n..#.|...|.\\n..+-+-+#|.\\n..|.|.|.|.\\n.#+-^-+-+.\\n..|...|.#.\\n#<em>O</em>+---+...\\n......#...\\n</code></pre>\\n<p>Option five, put the alchemical retroencabulator a bit to the right instead:</p>\\n<pre><code>....#.....\\n....+---+#\\n....|...|.\\n..#.|...|.\\n..+-+-+#|.\\n..|.|.|.|.\\n.#+-^-+-+.\\n....|.|.#.\\n#..<em>O</em>+-+...\\n......#...\\n</code></pre>\\n<p>Option six, put a tank of sovereign glue right next to the tank of universal solvent:</p>\\n<pre><code>....#.....\\n....+---+#\\n....|...|.\\n..#.|...|.\\n..+-+-+#|.\\n..|.|.|.|.\\n.#+-^-+-+.\\n.+----++#.\\n#+----++..\\n......#<em>O</em>..\\n</code></pre>\\n<p>It doesn't really matter what you choose to use as an obstacle so long as you and The Historians can put it into position without the guard noticing. The important thing is having enough options that you can find one that minimizes time paradoxes, and in this example, there are <code><em>6</em></code> different positions you could choose.</p>\\n<p>You need to get the guard stuck in a loop by adding a single new obstruction. <em>How many different positions could you choose for this obstruction?</em></p>\\n</article>\"}}], :nextjournal/visibility {:code :hide, :result :show}, :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-html, :hash \"5dtFMoRpfSur3BJ5RKN8sHB4mECYMZ\"}, :nextjournal/render-opts {:id \"solutions.2024.day06/anon-expr-5dt3mjJzTLNtEYsussu1iSAUsheKaX-result\"}}, :nextjournal/blob-id \"5drv9A5M3CWw1jEvTmoH9r8fmzUoUr\", :nextjournal/fetch-opts {:blob-id \"5drv9A5M3CWw1jEvTmoH9r8fmzUoUr\"}, :nextjournal/hash \"8Vt2R7wDeVRkCjRf4GiPETWRRj18R4SyFV3VNEPN4dY1zd3hLkDyzQcxurD65zrKrGJB5UrLK6z1J25CUJaSayVXSt\"}, :nextjournal/render-opts {:id \"solutions.2024.day06/anon-expr-5dt3mjJzTLNtEYsussu1iSAUsheKaX-result\"}, :nextjournal/visibility {:code :hide, :result :show}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dryaWFamQn5VBuSHLJXGpfgbLUTKh\"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id \"solutions.2024.day06/markdown-5du4SFdJwYjyGeyyscodWekuq7BN8J\"} [\"h1\" {:id \"solution\"} [:<> \"Solution\"]] [:p [:<> \"Another of my most hated of all the days...\"]] [:p [:<> \"No matter how many times I do these, I always end up with an ugly\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-html, :hash \"5dtFMoRpfSur3BJ5RKN8sHB4mECYMZ\"}}] [:<> \"imperative solution. These \\\"compute some grid\\\" problems always\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-html, :hash \"5dtFMoRpfSur3BJ5RKN8sHB4mECYMZ\"}}] [:<> \"throw me through a loop (pun somewhat intended...).\"]] [:p [:<> \"For that reason, I apologise if some of the explanations are a bit\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-html, :hash \"5dtFMoRpfSur3BJ5RKN8sHB4mECYMZ\"}}] [:<> \"terse; I did give up a bit.\"]] [:p [:<> \"Today has us trying to work out a guard's movements based on:\"]] [:ul [:li [:<> [:<> \"He can only move in the facing direction\"]]] [:li [:<> [:<> \"He moves until he hits an obstacle \"] [:code [:<> \"#\"]]]] [:li [:<> [:<> \"When he hits one, he turns 90 degrees clockwise\"]]]] [:p [:<> \"The pattern continues until he hits an edge of the grid. Part 1 has\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-html, :hash \"5dtFMoRpfSur3BJ5RKN8sHB4mECYMZ\"}}] [:<> \"us calculate all the unique spots the guard moves over; and part 2\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-html, :hash \"5dtFMoRpfSur3BJ5RKN8sHB4mECYMZ\"}}] [:<> \"then uses this as input to try and work out where we can place\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-html, :hash \"5dtFMoRpfSur3BJ5RKN8sHB4mECYMZ\"}}] [:<> \"another obstacle to get the guard stuck in a loop.\"]] [:p [:<> \"We solve this using \"] [:a {:href \"https://en.wikipedia.org/wiki/Complex_number\"} [:<> \"Complex\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-html, :hash \"5dtFMoRpfSur3BJ5RKN8sHB4mECYMZ\"}}] [:<> \"Numbers\"]] [:<> \" to easier\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-html, :hash \"5dtFMoRpfSur3BJ5RKN8sHB4mECYMZ\"}}] [:<> \"keep handle positions with direction. This gives us a massive\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-html, :hash \"5dtFMoRpfSur3BJ5RKN8sHB4mECYMZ\"}}] [:<> \"speedup as we have less to compute, and GREATLY simplifies the\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-html, :hash \"5dtFMoRpfSur3BJ5RKN8sHB4mECYMZ\"}}] [:<> \"traversal logic.\"]] [:p [:<> \"First things first, let's load our input and parse it\"]] [:p [:<> \"We end up with a map containing all the walls, the starting\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-html, :hash \"5dtFMoRpfSur3BJ5RKN8sHB4mECYMZ\"}}] [:<> \"position and the bounds of the grid (used for bounds checks).\"]]], :nextjournal/render-opts {:id \"solutions.2024.day06/markdown-5du4SFdJwYjyGeyyscodWekuq7BN8J\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn identity, :hash \"5dsjzwxRkivFXiBf1NDMWmH54cVWV1\"}} {:path [], :nextjournal/value \"(defn parse-input [input]\\n  (let [lines (str/split-lines input)\\n        [w h] [(count (first lines)) (count lines)]\\n        points (for [y (range h)\\n                     x (range w)\\n                     :let [c (get-in lines [y x])]\\n                     :when (not= \\\\. c)]\\n                 [[x y] c])]\\n    {:walls (->> points (filter #(= \\\\# (second %))) (map first) set)\\n     :start (->> points (filter #(= \\\\^ (second %))) ffirst)\\n     :bounds [(dec w) (dec h)]}))\", :nextjournal/render-opts {:loc {:line 45, :end-line 55, :column 1, :end-column 34}, :id \"solutions.2024.day06/parse-input-code\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dtogCRMFvgKZ3gMGuwZAef65oxRZD\"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id \"solutions.2024.day06/markdown-5du6bU8pCynuMx5xMYvmYs3idsh2ww\"} [:p [:<> \"Then we can just parse\"]]], :nextjournal/render-opts {:id \"solutions.2024.day06/markdown-5du6bU8pCynuMx5xMYvmYs3idsh2ww\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn identity, :hash \"5dsjzwxRkivFXiBf1NDMWmH54cVWV1\"}} {:path [], :nextjournal/value \"(def input (->> (slurp (io/resource \\\"inputs/2024/day06.txt\\\")) ;; Load the resource\\n                parse-input))                                 ;; Parse the grid\", :nextjournal/render-opts {:loc {:line 59, :end-line 60, :column 1, :end-column 30}, :id \"solutions.2024.day06/input-code\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dtogCRMFvgKZ3gMGuwZAef65oxRZD\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value [{:path [0], :nextjournal/value [{:path [0 0], :nextjournal/value :bounds, :nextjournal/viewer {:name nextjournal.clerk.viewer/keyword-viewer, :render-fn #viewer-fn (fn [x] [:span.cmt-atom.inspected-value (str x)]), :hash \"5duGajFTnAgGjfawvq1FBKha12ZHyw\"}} {:path [0 1], :nextjournal/value [{:path [0 1 0], :nextjournal/value 129, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5drsU4XXFvRiNxHZXiNRRP4gBX7jiW\"}} {:path [0 1 1], :nextjournal/value 129, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5drsU4XXFvRiNxHZXiNRRP4gBX7jiW\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/vector-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"[\", :closing-paren (\"]\"), :page-size 20, :hash \"5dsPqhnXQ6NY7bfSdVZe5SH2Voaoff\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/map-entry-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (comp (nextjournal.clerk.render/inspect-children opts) (interpose \" \")) xs)), :page-size 2, :hash \"5droUthZ6BBTwumLFMkuWhk1rT3hT3\"}} {:path [1], :nextjournal/value [{:path [1 0], :nextjournal/value :start, :nextjournal/viewer {:name nextjournal.clerk.viewer/keyword-viewer, :render-fn #viewer-fn (fn [x] [:span.cmt-atom.inspected-value (str x)]), :hash \"5duGajFTnAgGjfawvq1FBKha12ZHyw\"}} {:path [1 1], :nextjournal/value [{:path [1 1 0], :nextjournal/value 47, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5drsU4XXFvRiNxHZXiNRRP4gBX7jiW\"}} {:path [1 1 1], :nextjournal/value 45, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5drsU4XXFvRiNxHZXiNRRP4gBX7jiW\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/vector-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"[\", :closing-paren (\"]\"), :page-size 20, :hash \"5dsPqhnXQ6NY7bfSdVZe5SH2Voaoff\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/map-entry-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (comp (nextjournal.clerk.render/inspect-children opts) (interpose \" \")) xs)), :page-size 2, :hash \"5droUthZ6BBTwumLFMkuWhk1rT3hT3\"}} {:path [2], :nextjournal/value [{:path [2 0], :nextjournal/value :walls, :nextjournal/viewer {:name nextjournal.clerk.viewer/keyword-viewer, :render-fn #viewer-fn (fn [x] [:span.cmt-atom.inspected-value (str x)]), :hash \"5duGajFTnAgGjfawvq1FBKha12ZHyw\"}} {:path [2 1], :nextjournal/value [{:path [2 1 0], :nextjournal/value [{:path [2 1 0 0], :nextjournal/value 0, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5drsU4XXFvRiNxHZXiNRRP4gBX7jiW\"}} {:path [2 1 0 1], :nextjournal/value 22, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5drsU4XXFvRiNxHZXiNRRP4gBX7jiW\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/vector-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"[\", :closing-paren (\"]\"), :page-size 20, :hash \"5dsPqhnXQ6NY7bfSdVZe5SH2Voaoff\"}} {:path [2 1 1], :nextjournal/value [{:path [2 1 1 0], :nextjournal/value 0, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5drsU4XXFvRiNxHZXiNRRP4gBX7jiW\"}} {:path [2 1 1 1], :nextjournal/value 25, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5drsU4XXFvRiNxHZXiNRRP4gBX7jiW\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/vector-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"[\", :closing-paren (\"]\"), :page-size 20, :hash \"5dsPqhnXQ6NY7bfSdVZe5SH2Voaoff\"}} {:path [2 1 2], :nextjournal/value [{:path [2 1 2 0], :nextjournal/value 0, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5drsU4XXFvRiNxHZXiNRRP4gBX7jiW\"}} {:path [2 1 2 1], :nextjournal/value 38, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5drsU4XXFvRiNxHZXiNRRP4gBX7jiW\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/vector-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"[\", :closing-paren (\"]\"), :page-size 20, :hash \"5dsPqhnXQ6NY7bfSdVZe5SH2Voaoff\"}} {:path [2 1 3], :nextjournal/value [{:path [2 1 3 0], :nextjournal/value 0, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5drsU4XXFvRiNxHZXiNRRP4gBX7jiW\"}} {:path [2 1 3 1], :nextjournal/value 41, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5drsU4XXFvRiNxHZXiNRRP4gBX7jiW\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/vector-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"[\", :closing-paren (\"]\"), :page-size 20, :hash \"5dsPqhnXQ6NY7bfSdVZe5SH2Voaoff\"}} {:path [2 1 4], :nextjournal/value [{:path [2 1 4 0], :nextjournal/value 0, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5drsU4XXFvRiNxHZXiNRRP4gBX7jiW\"}} {:path [2 1 4 1], :nextjournal/value 82, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5drsU4XXFvRiNxHZXiNRRP4gBX7jiW\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/vector-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"[\", :closing-paren (\"]\"), :page-size 20, :hash \"5dsPqhnXQ6NY7bfSdVZe5SH2Voaoff\"}} {:path [2 1 5], :nextjournal/value [{:path [2 1 5 0], :nextjournal/value 0, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5drsU4XXFvRiNxHZXiNRRP4gBX7jiW\"}} {:path [2 1 5 1], :nextjournal/value 113, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5drsU4XXFvRiNxHZXiNRRP4gBX7jiW\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/vector-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"[\", :closing-paren (\"]\"), :page-size 20, :hash \"5dsPqhnXQ6NY7bfSdVZe5SH2Voaoff\"}} {:path [2 1 6], :nextjournal/value [{:path [2 1 6 0], :nextjournal/value 0, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5drsU4XXFvRiNxHZXiNRRP4gBX7jiW\"}} {:path [2 1 6 1], :nextjournal/value 126, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5drsU4XXFvRiNxHZXiNRRP4gBX7jiW\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/vector-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"[\", :closing-paren (\"]\"), :page-size 20, :hash \"5dsPqhnXQ6NY7bfSdVZe5SH2Voaoff\"}} {:path [2 1 7], :nextjournal/value [{:path [2 1 7 0], :nextjournal/value 1, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5drsU4XXFvRiNxHZXiNRRP4gBX7jiW\"}} {:path [2 1 7 1], :nextjournal/value 3, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5drsU4XXFvRiNxHZXiNRRP4gBX7jiW\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/vector-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"[\", :closing-paren (\"]\"), :page-size 20, :hash \"5dsPqhnXQ6NY7bfSdVZe5SH2Voaoff\"}} {:path [2 1 8], :nextjournal/value [{:path [2 1 8 0], :nextjournal/value 1, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5drsU4XXFvRiNxHZXiNRRP4gBX7jiW\"}} {:path [2 1 8 1], :nextjournal/value 91, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5drsU4XXFvRiNxHZXiNRRP4gBX7jiW\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/vector-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"[\", :closing-paren (\"]\"), :page-size 20, :hash \"5dsPqhnXQ6NY7bfSdVZe5SH2Voaoff\"}} {:path [2 1 9], :nextjournal/value [{:path [2 1 9 0], :nextjournal/value 1, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5drsU4XXFvRiNxHZXiNRRP4gBX7jiW\"}} {:path [2 1 9 1], :nextjournal/value 93, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5drsU4XXFvRiNxHZXiNRRP4gBX7jiW\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/vector-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"[\", :closing-paren (\"]\"), :page-size 20, :hash \"5dsPqhnXQ6NY7bfSdVZe5SH2Voaoff\"}} {:path [2 1 10], :nextjournal/value [{:path [2 1 10 0], :nextjournal/value 1, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5drsU4XXFvRiNxHZXiNRRP4gBX7jiW\"}} {:path [2 1 10 1], :nextjournal/value 94, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5drsU4XXFvRiNxHZXiNRRP4gBX7jiW\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/vector-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"[\", :closing-paren (\"]\"), :page-size 20, :hash \"5dsPqhnXQ6NY7bfSdVZe5SH2Voaoff\"}} {:path [2 1 11], :nextjournal/value [{:path [2 1 11 0], :nextjournal/value 1, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5drsU4XXFvRiNxHZXiNRRP4gBX7jiW\"}} {:path [2 1 11 1], :nextjournal/value 99, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5drsU4XXFvRiNxHZXiNRRP4gBX7jiW\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/vector-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"[\", :closing-paren (\"]\"), :page-size 20, :hash \"5dsPqhnXQ6NY7bfSdVZe5SH2Voaoff\"}} {:path [2 1 12], :nextjournal/value [{:path [2 1 12 0], :nextjournal/value 1, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5drsU4XXFvRiNxHZXiNRRP4gBX7jiW\"}} {:path [2 1 12 1], :nextjournal/value 123, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5drsU4XXFvRiNxHZXiNRRP4gBX7jiW\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/vector-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"[\", :closing-paren (\"]\"), :page-size 20, :hash \"5dsPqhnXQ6NY7bfSdVZe5SH2Voaoff\"}} {:path [2 1 13], :nextjournal/value [{:path [2 1 13 0], :nextjournal/value 1, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5drsU4XXFvRiNxHZXiNRRP4gBX7jiW\"}} {:path [2 1 13 1], :nextjournal/value 128, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5drsU4XXFvRiNxHZXiNRRP4gBX7jiW\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/vector-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"[\", :closing-paren (\"]\"), :page-size 20, :hash \"5dsPqhnXQ6NY7bfSdVZe5SH2Voaoff\"}} {:path [2 1 14], :nextjournal/value [{:path [2 1 14 0], :nextjournal/value 2, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5drsU4XXFvRiNxHZXiNRRP4gBX7jiW\"}} {:path [2 1 14 1], :nextjournal/value 28, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5drsU4XXFvRiNxHZXiNRRP4gBX7jiW\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/vector-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"[\", :closing-paren (\"]\"), :page-size 20, :hash \"5dsPqhnXQ6NY7bfSdVZe5SH2Voaoff\"}} {:path [2 1 15], :nextjournal/value [{:path [2 1 15 0], :nextjournal/value 2, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5drsU4XXFvRiNxHZXiNRRP4gBX7jiW\"}} {:path [2 1 15 1], :nextjournal/value 72, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5drsU4XXFvRiNxHZXiNRRP4gBX7jiW\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/vector-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"[\", :closing-paren (\"]\"), :page-size 20, :hash \"5dsPqhnXQ6NY7bfSdVZe5SH2Voaoff\"}} {:path [2 1 16], :nextjournal/value [{:path [2 1 16 0], :nextjournal/value 2, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5drsU4XXFvRiNxHZXiNRRP4gBX7jiW\"}} {:path [2 1 16 1], :nextjournal/value 76, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5drsU4XXFvRiNxHZXiNRRP4gBX7jiW\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/vector-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"[\", :closing-paren (\"]\"), :page-size 20, :hash \"5dsPqhnXQ6NY7bfSdVZe5SH2Voaoff\"}} {:path [2 1 17], :nextjournal/value [{:path [2 1 17 0], :nextjournal/value 2, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5drsU4XXFvRiNxHZXiNRRP4gBX7jiW\"}} {:path [2 1 17 1], :nextjournal/value 90, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5drsU4XXFvRiNxHZXiNRRP4gBX7jiW\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/vector-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"[\", :closing-paren (\"]\"), :page-size 20, :hash \"5dsPqhnXQ6NY7bfSdVZe5SH2Voaoff\"}} {:path [2 1 18], :nextjournal/value [{:path [2 1 18 0], :nextjournal/value 2, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5drsU4XXFvRiNxHZXiNRRP4gBX7jiW\"}} {:path [2 1 18 1], :nextjournal/value 92, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5drsU4XXFvRiNxHZXiNRRP4gBX7jiW\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/vector-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"[\", :closing-paren (\"]\"), :page-size 20, :hash \"5dsPqhnXQ6NY7bfSdVZe5SH2Voaoff\"}} {:path [2 1 19], :nextjournal/value [{:path [2 1 19 0], :nextjournal/value 2, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5drsU4XXFvRiNxHZXiNRRP4gBX7jiW\"}} {:path [2 1 19 1], :nextjournal/value 113, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5drsU4XXFvRiNxHZXiNRRP4gBX7jiW\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/vector-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"[\", :closing-paren (\"]\"), :page-size 20, :hash \"5dsPqhnXQ6NY7bfSdVZe5SH2Voaoff\"}} {:nextjournal/value {:n 20, :path [2 1], :total 838, :offset 20}, :nextjournal/viewer {:name nextjournal.clerk.viewer/elision-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-elision, :hash \"5dspwtw9QTXohtFfqtoeWBkFHRFp9w\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/set-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"#{\", :closing-paren (\"}\" \"}\"), :page-size 20, :hash \"5drGWLFeyxjxbHdmc3fBMUyo5T5Ffz\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/map-entry-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (comp (nextjournal.clerk.render/inspect-children opts) (interpose \" \")) xs)), :page-size 2, :hash \"5droUthZ6BBTwumLFMkuWhk1rT3hT3\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/map-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-map, :opening-paren \"{\", :page-size 10, :hash \"5drSiYgxwbGAGQx15hZm4Ts9vK16be\"}, :nextjournal/render-opts {:id \"solutions.2024.day06/input-result\"}}, :nextjournal/blob-id \"5ds9rVHszqABvZH4bwbyKQChRe9nQr\", :nextjournal/fetch-opts {:blob-id \"5ds9rVHszqABvZH4bwbyKQChRe9nQr\"}, :nextjournal/hash \"8VwruW1pDwnU5CG5824r1rmpUMCHX289U5DT2UVinTaKyJr2SNP3fGQTo6TyUZ5PM31sKFNYVP9sJeSKk9Q1Rzz6Qn\"}, :nextjournal/render-opts {:id \"solutions.2024.day06/input-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dryaWFamQn5VBuSHLJXGpfgbLUTKh\"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id \"solutions.2024.day06/markdown-5ds94nRsa5HPoceAiHvxk1dwhPfqAY\"} [:p [:<> \"First things first we need to setup our complex number system.\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-html, :hash \"5dtFMoRpfSur3BJ5RKN8sHB4mECYMZ\"}}] [:<> \"Here \"] [:code [:<> \"i\"]] [:<> \" is the \\\"imaginary unit\\\".\"]] [:p [:<> \"For both position and direction vectors \"] [:code [:<> \"[x y]\"]] [:<> \" represents \"] [:code [:<> \"x + yi\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-html, :hash \"5dtFMoRpfSur3BJ5RKN8sHB4mECYMZ\"}}] [:<> \"where \"] [:code [:<> \"x\"]] [:<> \" is the horizontal position and \"] [:code [:<> \"y\"]] [:<> \" is the vertical\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-html, :hash \"5dtFMoRpfSur3BJ5RKN8sHB4mECYMZ\"}}] [:<> \"position.\"]]], :nextjournal/render-opts {:id \"solutions.2024.day06/markdown-5ds94nRsa5HPoceAiHvxk1dwhPfqAY\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn identity, :hash \"5dsjzwxRkivFXiBf1NDMWmH54cVWV1\"}} {:path [], :nextjournal/value \"(def i [0 1])\", :nextjournal/render-opts {:loc {:line 69, :end-line 69, :column 1, :end-column 14}, :id \"solutions.2024.day06/i-code\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dtogCRMFvgKZ3gMGuwZAef65oxRZD\"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id \"solutions.2024.day06/markdown-5dszCeAoZh4bdHxxM6hHJpFo5uPLiM\"} [:p [:<> \"In the case of \\\"rotating\\\" (multiplying two complex numbers in\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-html, :hash \"5dtFMoRpfSur3BJ5RKN8sHB4mECYMZ\"}}] [:<> \"reality), we have two complex numbers \"] [:code [:<> \"a + bi\"]] [:<> \" and \"] [:code [:<> \"c + di\"]] [:<> \".\"]] [:p [:<> \"The outcome of trying to calculate this works out to the below. By\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-html, :hash \"5dtFMoRpfSur3BJ5RKN8sHB4mECYMZ\"}}] [:<> \"rotating a complex number against \"] [:code [:<> \"i\"]] [:<> \", we end up with the next\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-html, :hash \"5dtFMoRpfSur3BJ5RKN8sHB4mECYMZ\"}}] [:<> \"right-facing direction.\"]]], :nextjournal/render-opts {:id \"solutions.2024.day06/markdown-5dszCeAoZh4bdHxxM6hHJpFo5uPLiM\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn identity, :hash \"5dsjzwxRkivFXiBf1NDMWmH54cVWV1\"}} {:path [], :nextjournal/value \"(defn rotate [[a b] [c d]]\\n  [(- (* a c) (* b d))\\n   (+ (* a d) (* b c))])\", :nextjournal/render-opts {:loc {:line 77, :end-line 79, :column 1, :end-column 25}, :id \"solutions.2024.day06/rotate-code\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dtogCRMFvgKZ3gMGuwZAef65oxRZD\"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id \"solutions.2024.day06/markdown-5dtgPsWb3AzLsFod4VqRDcRP2XD9dd\"} [\"h2\" {:id \"functions\"} [:<> \"Functions\"]] [\"h3\" {:id \"in-bounds?\"} [:<> \"in-bounds?\"]] [:p [:<> \"A simple bounds checker to ensure the coordinates are inside the\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-html, :hash \"5dtFMoRpfSur3BJ5RKN8sHB4mECYMZ\"}}] [:<> \"grid.\"]]], :nextjournal/render-opts {:id \"solutions.2024.day06/markdown-5dtgPsWb3AzLsFod4VqRDcRP2XD9dd\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn identity, :hash \"5dsjzwxRkivFXiBf1NDMWmH54cVWV1\"}} {:path [], :nextjournal/value \"(defn in-bounds? [[x y] [max-x max-y]]\\n  (and (<= 0 x max-x)\\n       (<= 0 y max-y)))\", :nextjournal/render-opts {:loc {:line 86, :end-line 88, :column 1, :end-column 24}, :id \"solutions.2024.day06/in-bounds?-code\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dtogCRMFvgKZ3gMGuwZAef65oxRZD\"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id \"solutions.2024.day06/markdown-5dr8pRbWUjvDjeME9MeY6PMVGQFKte\"} [\"h3\" {:id \"traverse\"} [:<> \"traverse\"]] [:p [:<> \"The \\\"walker\\\" function we use to walk the path and identify everything we've seen.\"]] [:p [:<> \"Two main paths based on whether we're checking for loops or not:\"]] [\"h4\" {:id \"no-loops-(part-1)\"} [:<> \"No loops (part 1)\"]] [:p [:<> \"We record all the positions \"] [:code [:<> \"seen\"]] [:<> \" and stops in \"] [:code [:<> \"stops\"]] [:<> \", when we\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-html, :hash \"5dtFMoRpfSur3BJ5RKN8sHB4mECYMZ\"}}] [:<> \"hit a grid boundary we return them. If the next position is a wall,\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-html, :hash \"5dtFMoRpfSur3BJ5RKN8sHB4mECYMZ\"}}] [:<> \"we recur with the new state and rotate, otherwise we just move\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-html, :hash \"5dtFMoRpfSur3BJ5RKN8sHB4mECYMZ\"}}] [:<> \"again.\"]] [\"h4\" {:id \"with-loops-(part-2)\"} [:<> \"With loops (part 2)\"]] [:p [:<> \"Here we return \"] [:code [:<> \"true\"]] [:<> \" as soon as we identify that we've found a\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-html, :hash \"5dtFMoRpfSur3BJ5RKN8sHB4mECYMZ\"}}] [:<> \"loop, and \"] [:code [:<> \"false\"]] [:<> \" if we hit a boundary. Otherwise, we use the same\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-html, :hash \"5dtFMoRpfSur3BJ5RKN8sHB4mECYMZ\"}}] [:<> \"movement logic as the first part.\"]]], :nextjournal/render-opts {:id \"solutions.2024.day06/markdown-5dr8pRbWUjvDjeME9MeY6PMVGQFKte\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn identity, :hash \"5dsjzwxRkivFXiBf1NDMWmH54cVWV1\"}} {:path [], :nextjournal/value \"(defn traverse\\n  [{:keys [walls bounds]} start loop?]\\n  (loop [pos start\\n         dir [0 -1]\\n         seen #{start}\\n         stops #{}]\\n    (let [next (map + pos dir)]\\n      (cond\\n        (or (not (in-bounds? next bounds))\\n            (and loop? (> (count stops) (* 4 (count walls)))))\\n        (if loop? false [seen stops])\\n\\n        (walls next)\\n        (let [new-stops (conj stops [pos dir])]\\n          (if (and loop? (stops [pos dir]))\\n            true\\n            (recur pos (rotate dir i) seen new-stops)))\\n\\n        :else (recur next dir (conj seen next) stops)))))\", :nextjournal/render-opts {:loc {:line 108, :end-line 126, :column 1, :end-column 58}, :id \"solutions.2024.day06/traverse-code\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dtogCRMFvgKZ3gMGuwZAef65oxRZD\"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id \"solutions.2024.day06/markdown-5dr9X6e5Rm7eimLNDa1ehMJhwnDGJw\"} [\"h3\" {:id \"check-loop?\"} [:<> \"check-loop?\"]] [:p [:<> \"Used in part 2 to understand if we can place a wall at the target\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-html, :hash \"5dtFMoRpfSur3BJ5RKN8sHB4mECYMZ\"}}] [:<> \"to create a loop.\"]] [:p [:<> \"We basically just walk the path as in part 1 but with an extra wall\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-html, :hash \"5dtFMoRpfSur3BJ5RKN8sHB4mECYMZ\"}}] [:<> \"in place, then follow it to see if we end up in a loop (by walking\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-html, :hash \"5dtFMoRpfSur3BJ5RKN8sHB4mECYMZ\"}}] [:<> \"the same as a previous path)\"]]], :nextjournal/render-opts {:id \"solutions.2024.day06/markdown-5dr9X6e5Rm7eimLNDa1ehMJhwnDGJw\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn identity, :hash \"5dsjzwxRkivFXiBf1NDMWmH54cVWV1\"}} {:path [], :nextjournal/value \"(defn check-loop? [{:keys [start] :as input} pos]\\n  (traverse (update input :walls conj pos) start true))\", :nextjournal/render-opts {:loc {:line 136, :end-line 137, :column 1, :end-column 56}, :id \"solutions.2024.day06/check-loop?-code\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dtogCRMFvgKZ3gMGuwZAef65oxRZD\"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id \"solutions.2024.day06/markdown-5duCDDwTmvzwmbxpPwiiTTTFHC6zqG\"} [\"h2\" {:id \"part-1\"} [:<> \"Part 1\"]] [:p [:<> \"Part 1 has us just walk the path and count all the unique stops. Since we also use this info in part 2, we make the function return the data\"]]], :nextjournal/render-opts {:id \"solutions.2024.day06/markdown-5duCDDwTmvzwmbxpPwiiTTTFHC6zqG\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn identity, :hash \"5dsjzwxRkivFXiBf1NDMWmH54cVWV1\"}} {:path [], :nextjournal/value \"(defn part-1 [{:keys [start] :as input}]\\n  (first (traverse input start false)))\", :nextjournal/render-opts {:loc {:line 142, :end-line 143, :column 1, :end-column 40}, :id \"solutions.2024.day06/part-1-code\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dtogCRMFvgKZ3gMGuwZAef65oxRZD\"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id \"solutions.2024.day06/markdown-5dqyvTvEcvLn5Zxgm5QmJ5h3NkFHyh\"} [:p [:<> \"Which gives our countable answer\"]]], :nextjournal/render-opts {:id \"solutions.2024.day06/markdown-5dqyvTvEcvLn5Zxgm5QmJ5h3NkFHyh\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn identity, :hash \"5dsjzwxRkivFXiBf1NDMWmH54cVWV1\"}} {:path [], :nextjournal/value \"(count (part-1 input))\", :nextjournal/render-opts {:loc {:line 147, :end-line 147, :column 1, :end-column 23}, :id \"solutions.2024.day06/anon-expr-5drsxPfPwMJPGaRVfdayyFtqW1T6WC-code\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dtogCRMFvgKZ3gMGuwZAef65oxRZD\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value 4580, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5drsU4XXFvRiNxHZXiNRRP4gBX7jiW\"}, :nextjournal/render-opts {:id \"solutions.2024.day06/anon-expr-5drsxPfPwMJPGaRVfdayyFtqW1T6WC-result\"}}, :nextjournal/blob-id \"5dqxXDnKBB7HtMbSZpJr1u5hu7VWVk\", :nextjournal/fetch-opts {:blob-id \"5dqxXDnKBB7HtMbSZpJr1u5hu7VWVk\"}, :nextjournal/hash \"8VxqFLHp3cBj6Yi3NDygWjnbKaBVq5wtvddmjWmMGqX9FYHs4uwGkEDASZBAXtMX9GTih2aphcmJNkz33p8aa2u9fS\"}, :nextjournal/render-opts {:id \"solutions.2024.day06/anon-expr-5drsxPfPwMJPGaRVfdayyFtqW1T6WC-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dryaWFamQn5VBuSHLJXGpfgbLUTKh\"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id \"solutions.2024.day06/markdown-5dtXH7TXJDNGbxWVpybsdYsS4dTujF\"} [\"h2\" {:id \"part-2\"} [:<> \"Part 2\"]] [:p [:<> \"Part 2 has us test each of these stops for a new obstacle to insert\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-html, :hash \"5dtFMoRpfSur3BJ5RKN8sHB4mECYMZ\"}}] [:<> \"and testing if we end up in a loop. We can speed this up with\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-html, :hash \"5dtFMoRpfSur3BJ5RKN8sHB4mECYMZ\"}}] [:code [:<> \"pmap\"]] [:<> \" since none of the data is linked.\"]]], :nextjournal/render-opts {:id \"solutions.2024.day06/markdown-5dtXH7TXJDNGbxWVpybsdYsS4dTujF\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn identity, :hash \"5dsjzwxRkivFXiBf1NDMWmH54cVWV1\"}} {:path [], :nextjournal/value \"(defn part-2\\n  [input]\\n  (->> (part-1 input)\\n       (pmap #(check-loop? input %))\\n       (filter true?)\\n       count))\", :nextjournal/render-opts {:loc {:line 155, :end-line 160, :column 1, :end-column 15}, :id \"solutions.2024.day06/part-2-code\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dtogCRMFvgKZ3gMGuwZAef65oxRZD\"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id \"solutions.2024.day06/markdown-5dsCmyHsvB8C19ZLVyDeAMusv11HXT\"} [:p [:<> \"Which gives our answer\"]]], :nextjournal/render-opts {:id \"solutions.2024.day06/markdown-5dsCmyHsvB8C19ZLVyDeAMusv11HXT\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn identity, :hash \"5dsjzwxRkivFXiBf1NDMWmH54cVWV1\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value 1480, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5drsU4XXFvRiNxHZXiNRRP4gBX7jiW\"}, :nextjournal/render-opts {:id \"solutions.2024.day06/anon-expr-5dstDS4zmbArT87H81wfsNt68WWiqo-result\"}}, :nextjournal/blob-id \"5drazi29Q1qsazWaV5b1RFxGbTykuk\", :nextjournal/fetch-opts {:blob-id \"5drazi29Q1qsazWaV5b1RFxGbTykuk\"}, :nextjournal/hash \"8VtphMVNzWymUms6UpL5UoKLwU1YCZCFbuEzmvabJ2vCZgdsNaLDBKSf4ZFDiYVMHt9J5agCLoeXNEU8u9iCS9CuAM\"}, :nextjournal/render-opts {:id \"solutions.2024.day06/anon-expr-5dstDS4zmbArT87H81wfsNt68WWiqo-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dryaWFamQn5VBuSHLJXGpfgbLUTKh\"}}]}, :nextjournal/viewer {:name nextjournal.clerk.viewer/notebook-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-notebook, :hash \"5dsiHybTyGGTEpReRaV7nfNxoDgnKx\"}}}, :current-path \"src/solutions/2024/day06\", :resource->url {\"/js/viewer.js\" \"https://storage.clerk.garden/nextjournal/clerk-assets@43sknWSpfsWGp1HAfZe1dLuBjmWH/viewer.js?immutable=true\", \"/css/viewer.css\" \"_data/8VwV28rwGucVsymC7xAxLHYmRrTe7rCGL6Z2GkDMWKHZwmBdrd8iRZtTJgwWnXnPsTofN8GQhMnYNeXBdo1D524JjG.css\"}, :index \"src/index.clj\"}".replaceAll('nextjournal.clerk.view/escape-closing-script-tag', 'script')
viewer.init(viewer.read_string(state))
</script></body></html>