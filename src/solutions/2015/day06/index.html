<!DOCTYPE html>
<html><head><meta charset="UTF-8"><meta content="width=device-width, initial-scale=1" name="viewport"><meta content="Things are slowing down a bit now! This one threw me for a loop for a while, mostly because of silly issues (namely range being exclusive; not inclusive)." property="og:description"><meta content="Problem" property="og:title"><meta content="article:clerk" property="og:type"><meta content="summary_large_image" name="twitter:card"><link href="./../../../../_data/8VtDnQGgPmpY9sEDrrcAF9en62cCkj8LzQSfBzwMbkBxxCsmXPFU7wkvzUwha6kzvjGXkj3XRbD4gaW2CrqWE52L9j.css" rel="stylesheet" type="text/css"><script src="https://storage.clerk.garden/nextjournal/clerk-assets@43sknWSpfsWGp1HAfZe1dLuBjmWH/viewer.js?immutable=true" type="module"></script><link href="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.css" rel="stylesheet" type="text/css"><link href="https://fonts.bunny.net" rel="preconnect"><link href="https://fonts.bunny.net/css?family=fira-mono:400,700%7Cfira-sans:400,400i,500,500i,700,700i%7Cfira-sans-condensed:700,700i%7Cpt-serif:400,400i,700,700i" rel="stylesheet" type="text/css"><style id="extra-styles">em {
    font-style: normal !important;
}

html:not(.dark) pre {
    background-color: #f1f5f9 !important;
    color: #7aaac4 !important;
}

.dark em {
    color: #fff !important;
    text-shadow: 0 0 5px #fff !important;
}

.dark pre {
    background-color: rgb(31 41 55 / var(--tw-bg-opacity)) !important;
}

html:not(.dark) em {
    color: #000 !important;
    text-shadow: 0 0 2px #000 !important;
}

.viewer-result:first-child {
    display: none !important;
}
</style></head><body class="dark:bg-gray-900"><div id="clerk"></div><script type="module">let viewer = nextjournal.clerk.sci_env
let state = "{:bundle? false, :path->doc {\"src/solutions/2015/day06\" {:path [], :nextjournal/value {:toc [{:title \"Problem\", :emoji nil, :path \"#problem\", :items []} {:title \"Solution\", :emoji nil, :path \"#solution\", :items [{:title \"Expand an instruction into points\", :emoji nil, :path \"#expand-an-instruction-into-points\", :items []} {:title \"Clamp a value between bounds\", :emoji nil, :path \"#clamp-a-value-between-bounds\", :items []} {:title \"Update current state\", :emoji nil, :path \"#update-current-state\", :items []} {:title \"Perform a step of instruction\", :emoji nil, :path \"#perform-a-step-of-instruction\", :items []} {:title \"Solver\", :emoji nil, :path \"#solver\", :items []} {:title \"Part 1\", :emoji nil, :path \"#part-1\", :items []} {:title \"Part 2\", :emoji nil, :path \"#part-2\", :items []}]}], :sidenotes? false, :toc-visibility true, :atom-var-name->state #viewer-eval (nextjournal.clerk.render/intern-atoms! {}), :ns #viewer-eval (ns solutions.2015.day06), :file \"src/solutions/2015/day06.clj\", :scope solutions.2015.day06, :bundle? false, :header {:path [], :nextjournal/value [:div.viewer.w-full.max-w-prose.px-8.not-prose.mt-3 [:div.mb-8.text-xs.sans-serif.text-slate-400 nil [:<> [:a.font-medium.border-b.border-dotted.border-slate-300.hover:text-indigo-500.hover:border-indigo-500.dark:border-slate-500.dark:hover:text-white.dark:hover:border-white.transition {:href \"./../../../../\"} \"Index\"] [:span.mx-2 \"â€¢\"]] [:span \"Served from \" [:a.font-medium.border-b.border-dotted.border-slate-300.hover:text-indigo-500.hover:border-indigo-500.dark:border-slate-500.dark:hover:text-white.dark:hover:border-white.transition {:href \"https://clerk.vision\"} \"Clerk\"] nil]]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-html, :hash \"5dtFMoRpfSur3BJ5RKN8sHB4mECYMZ\"}}, :open-graph {:type \"article:clerk\", :title \"Problem\", :description \"Things are slowing down a bit now! This one threw me for a loop for a while, mostly because of silly issues (namely range being exclusive; not inclusive).\"}, :title \"Problem\", :blocks [{:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id \"solutions.2015.day06/markdown-5dqq5acBASUPKy7JX3Uoyxc1KPMN9A\"} [\"h1\" {:id \"problem\"} [:<> \"Problem\"]]], :nextjournal/render-opts {:id \"solutions.2015.day06/markdown-5dqq5acBASUPKy7JX3Uoyxc1KPMN9A\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn identity, :hash \"5dsjzwxRkivFXiBf1NDMWmH54cVWV1\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value [:div {:dangerouslySetInnerHTML {:__html \"<article class=\\\"day-desc\\\"><h2>--- Day 6: Probably a Fire Hazard ---</h2><p>Because your neighbors keep defeating you in the holiday house decorating contest year after year, you've decided to deploy one million lights in a <span title=\\\"Hey, be glad I'm not asking for the resistance between two points!\\\">1000x1000 grid</span>.</p>\\n<p>Furthermore, because you've been especially nice this year, Santa has mailed you instructions on how to display the ideal lighting configuration.</p>\\n<p>Lights in your grid are numbered from 0 to 999 in each direction; the lights at each corner are at <code>0,0</code>, <code>0,999</code>, <code>999,999</code>, and <code>999,0</code>. The instructions include whether to <code>turn on</code>, <code>turn off</code>, or <code>toggle</code> various inclusive ranges given as coordinate pairs.  Each coordinate pair represents opposite corners of a rectangle, inclusive; a coordinate pair like <code>0,0 through 2,2</code> therefore refers to 9 lights in a 3x3 square.  The lights all start turned off.\\n</p><p>To defeat your neighbors this year, all you have to do is set up your lights by doing the instructions Santa sent you in order.</p>\\n<p>For example:</p>\\n<ul>\\n<li><code>turn on 0,0 through 999,999</code> would turn on (or leave on) every light.</li>\\n<li><code>toggle 0,0 through 999,0</code> would toggle the first line of 1000 lights, turning off the ones that were on, and turning on the ones that were off.</li>\\n<li><code>turn off 499,499 through 500,500</code> would turn off (or leave off) the middle four lights.</li>\\n</ul>\\n<p>After following the instructions, <em>how many lights are lit</em>?</p>\\n</article><article class=\\\"day-desc\\\"><h2 id=\\\"part2\\\">--- Part Two ---</h2><p>You just finish implementing your winning light pattern when you realize you mistranslated Santa's message from Ancient Nordic Elvish.</p>\\n<p>The light grid you bought actually has individual brightness controls; each light can have a brightness of zero or more.  The lights all start at zero.</p>\\n<p>The phrase <code>turn on</code> actually means that you should increase the brightness of those lights by <code>1</code>.</p>\\n<p>The phrase <code>turn off</code> actually means that you should decrease the brightness of those lights by <code>1</code>, to a minimum of zero.</p>\\n<p>The phrase <code>toggle</code> actually means that you should increase the brightness of those lights by <code>2</code>.</p>\\n<p>What is the <em>total brightness</em> of all lights combined after following Santa's instructions?</p>\\n<p>For example:</p>\\n<ul>\\n<li><code>turn on 0,0 through 0,0</code> would increase the total brightness by <code>1</code>.</li>\\n<li><code>toggle 0,0 through 999,999</code> would increase the total brightness by <code>2000000</code>.</li>\\n</ul>\\n</article>\"}}], :nextjournal/visibility {:code :hide, :result :show}, :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-html, :hash \"5dtFMoRpfSur3BJ5RKN8sHB4mECYMZ\"}, :nextjournal/render-opts {:id \"solutions.2015.day06/anon-expr-5dqtSxyiinuvteGVQbLFhJjPVd6QJ8-result\"}}, :nextjournal/blob-id \"5dtXqCimS3sbsPVhUARReb7PKeguQY\", :nextjournal/fetch-opts {:blob-id \"5dtXqCimS3sbsPVhUARReb7PKeguQY\"}, :nextjournal/hash \"8VsvrYefMpqtZ1zNXmLsYGSzHtqFR8qGkDaMeXW4xPCH5qLH7zd7JihQBCW4HiWNaeg4nDdYXhtLyYK8TTegV87kW3\"}, :nextjournal/render-opts {:id \"solutions.2015.day06/anon-expr-5dqtSxyiinuvteGVQbLFhJjPVd6QJ8-result\"}, :nextjournal/visibility {:code :hide, :result :show}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dryaWFamQn5VBuSHLJXGpfgbLUTKh\"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id \"solutions.2015.day06/markdown-5duE7zBtBKwZ6GdLwevBvph67xqvRB\"} [\"h1\" {:id \"solution\"} [:<> \"Solution\"]] [:p [:<> \"Things are slowing down a bit now! This one threw me for a loop for a while,\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-html, :hash \"5dtFMoRpfSur3BJ5RKN8sHB4mECYMZ\"}}] [:<> \"mostly because of silly issues (namely \"] [:code [:<> \"range\"]] [:<> \" being exclusive; not\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-html, :hash \"5dtFMoRpfSur3BJ5RKN8sHB4mECYMZ\"}}] [:<> \"inclusive).\"]] [:p [:<> \"In short, we're giving a number of instructions coupled with co-ordinates; eg\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-html, :hash \"5dtFMoRpfSur3BJ5RKN8sHB4mECYMZ\"}}] [:code [:<> \"turn on 0,0 through 4,0\"]] [:<> \" which means for all those points (\"] [:code [:<> \"1, 0\"]] [:<> \", \"] [:code [:<> \"2, 0\"]] [:<> \",\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-html, :hash \"5dtFMoRpfSur3BJ5RKN8sHB4mECYMZ\"}}] [:code [:<> \"3, 0\"]] [:<> \" and \"] [:code [:<> \"4, 0\"]] [:<> \") \\\"turn them on\\\" (the exact meaning of that differs between\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-html, :hash \"5dtFMoRpfSur3BJ5RKN8sHB4mECYMZ\"}}] [:<> \"parts).\"]] [:p [:<> \"What we do here is use \"] [:code [:<> \"core.match\"]] [:<> \" to match on whether the action starts\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-html, :hash \"5dtFMoRpfSur3BJ5RKN8sHB4mECYMZ\"}}] [:<> \"with \"] [:code [:<> \"turn\"]] [:<> \" or \"] [:code [:<> \"toggle\"]] [:<> \" and use that to pull a function from a map of actions\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-html, :hash \"5dtFMoRpfSur3BJ5RKN8sHB4mECYMZ\"}}] [:<> \"we pass in; an example of which being:\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:div.code-viewer.code-listing [#viewer-eval nextjournal.clerk.render/inspect-presented {:path [0], :nextjournal/value \"{\\\"on\\\" inc\\n \\\"off\\\" dec\\n \\\"toggle\\\" #(+ 2 %)}\", :nextjournal/render-opts {:language \"clojure\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5du2mraURqz2bpV4BGF3B7gNDyCYZJ\"}}]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-html, :hash \"5dtFMoRpfSur3BJ5RKN8sHB4mECYMZ\"}}] [:p [:<> \"Both parts follow the same structure, so a general solution here was easy to find.\"]] [:p [:<> \"This function is then applied onto every point defined in the co-ordinate\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-html, :hash \"5dtFMoRpfSur3BJ5RKN8sHB4mECYMZ\"}}] [:<> \"range, which after one step looks something like:\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:div.code-viewer.code-listing [#viewer-eval nextjournal.clerk.render/inspect-presented {:path [0], :nextjournal/value \"{[0 0] 1\\n [0 1] 0}\", :nextjournal/render-opts {:language \"clojure\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5du2mraURqz2bpV4BGF3B7gNDyCYZJ\"}}]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-html, :hash \"5dtFMoRpfSur3BJ5RKN8sHB4mECYMZ\"}}] [:p [:<> \"Where this map's key is the co-ordinate and the value is what's referred in\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-html, :hash \"5dtFMoRpfSur3BJ5RKN8sHB4mECYMZ\"}}] [:<> \"the second part as \\\"brightness\\\" (though not relevant to part 1, as it\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-html, :hash \"5dtFMoRpfSur3BJ5RKN8sHB4mECYMZ\"}}] [:<> \"represents on or off)\"]] [:p [:<> \"First things first, let's load our input and parse it\"]]], :nextjournal/render-opts {:id \"solutions.2015.day06/markdown-5duE7zBtBKwZ6GdLwevBvph67xqvRB\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn identity, :hash \"5dsjzwxRkivFXiBf1NDMWmH54cVWV1\"}} {:path [], :nextjournal/value \"(def input (->> (slurp (io/resource \\\"inputs/2015/day06.txt\\\")) ;; Load the resource\\n                str/split-lines))                             ;; Split into lines\", :nextjournal/render-opts {:loc {:line 49, :end-line 50, :column 1, :end-column 34}, :id \"solutions.2015.day06/input-code\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dtogCRMFvgKZ3gMGuwZAef65oxRZD\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value [{:path [0], :nextjournal/value \"turn on 887,9 through 959,629\", :nextjournal/viewer {:name nextjournal.clerk.viewer/string-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsoVKnSNgnKXj1Cv4qvD6xr6wMks7\"}} {:path [1], :nextjournal/value \"turn on 454,398 through 844,448\", :nextjournal/viewer {:name nextjournal.clerk.viewer/string-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsoVKnSNgnKXj1Cv4qvD6xr6wMks7\"}} {:path [2], :nextjournal/value \"turn off 539,243 through 559,965\", :nextjournal/viewer {:name nextjournal.clerk.viewer/string-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsoVKnSNgnKXj1Cv4qvD6xr6wMks7\"}} {:path [3], :nextjournal/value \"turn off 370,819 through 676,868\", :nextjournal/viewer {:name nextjournal.clerk.viewer/string-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsoVKnSNgnKXj1Cv4qvD6xr6wMks7\"}} {:path [4], :nextjournal/value \"turn off 145,40 through 370,997\", :nextjournal/viewer {:name nextjournal.clerk.viewer/string-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsoVKnSNgnKXj1Cv4qvD6xr6wMks7\"}} {:path [5], :nextjournal/value \"turn off 301,3 through 808,453\", :nextjournal/viewer {:name nextjournal.clerk.viewer/string-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsoVKnSNgnKXj1Cv4qvD6xr6wMks7\"}} {:path [6], :nextjournal/value \"turn on 351,678 through 951,908\", :nextjournal/viewer {:name nextjournal.clerk.viewer/string-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsoVKnSNgnKXj1Cv4qvD6xr6wMks7\"}} {:path [7], :nextjournal/value \"toggle 720,196 through 897,994\", :nextjournal/viewer {:name nextjournal.clerk.viewer/string-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsoVKnSNgnKXj1Cv4qvD6xr6wMks7\"}} {:path [8], :nextjournal/value \"toggle 831,394 through 904,860\", :nextjournal/viewer {:name nextjournal.clerk.viewer/string-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsoVKnSNgnKXj1Cv4qvD6xr6wMks7\"}} {:path [9], :nextjournal/value \"toggle 753,664 through 970,926\", :nextjournal/viewer {:name nextjournal.clerk.viewer/string-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsoVKnSNgnKXj1Cv4qvD6xr6wMks7\"}} {:path [10], :nextjournal/value \"turn off 150,300 through 213,740\", :nextjournal/viewer {:name nextjournal.clerk.viewer/string-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsoVKnSNgnKXj1Cv4qvD6xr6wMks7\"}} {:path [11], :nextjournal/value \"turn on 141,242 through 932,871\", :nextjournal/viewer {:name nextjournal.clerk.viewer/string-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsoVKnSNgnKXj1Cv4qvD6xr6wMks7\"}} {:path [12], :nextjournal/value \"toggle 294,259 through 474,326\", :nextjournal/viewer {:name nextjournal.clerk.viewer/string-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsoVKnSNgnKXj1Cv4qvD6xr6wMks7\"}} {:path [13], :nextjournal/value \"toggle 678,333 through 752,957\", :nextjournal/viewer {:name nextjournal.clerk.viewer/string-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsoVKnSNgnKXj1Cv4qvD6xr6wMks7\"}} {:path [14], :nextjournal/value \"toggle 393,804 through 510,976\", :nextjournal/viewer {:name nextjournal.clerk.viewer/string-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsoVKnSNgnKXj1Cv4qvD6xr6wMks7\"}} {:path [15], :nextjournal/value \"turn off 6,964 through 411,976\", :nextjournal/viewer {:name nextjournal.clerk.viewer/string-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsoVKnSNgnKXj1Cv4qvD6xr6wMks7\"}} {:path [16], :nextjournal/value \"turn off 33,572 through 978,590\", :nextjournal/viewer {:name nextjournal.clerk.viewer/string-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsoVKnSNgnKXj1Cv4qvD6xr6wMks7\"}} {:path [17], :nextjournal/value \"turn on 579,693 through 650,978\", :nextjournal/viewer {:name nextjournal.clerk.viewer/string-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsoVKnSNgnKXj1Cv4qvD6xr6wMks7\"}} {:path [18], :nextjournal/value \"turn on 150,20 through 652,719\", :nextjournal/viewer {:name nextjournal.clerk.viewer/string-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsoVKnSNgnKXj1Cv4qvD6xr6wMks7\"}} {:path [19], :nextjournal/value \"turn off 782,143 through 808,802\", :nextjournal/viewer {:name nextjournal.clerk.viewer/string-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsoVKnSNgnKXj1Cv4qvD6xr6wMks7\"}} {:nextjournal/value {:n 20, :path [], :total 300, :offset 20}, :nextjournal/viewer {:name nextjournal.clerk.viewer/elision-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-elision, :hash \"5dspwtw9QTXohtFfqtoeWBkFHRFp9w\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/vector-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"[\", :closing-paren (\"]\"), :page-size 20, :hash \"5dsPqhnXQ6NY7bfSdVZe5SH2Voaoff\"}, :nextjournal/render-opts {:id \"solutions.2015.day06/input-result\"}}, :nextjournal/blob-id \"5dtKehuURm8qyZqexS8SEmfcfahYd6\", :nextjournal/fetch-opts {:blob-id \"5dtKehuURm8qyZqexS8SEmfcfahYd6\"}, :nextjournal/hash \"8VtDnApVQgyVJSXqSQtaZWgJS7qSrEmpj3r2EWLvVZWHkoVbjnau8HYHxPFtAywhft5EcpR7FvNQWS5xBitn42PRzu\"}, :nextjournal/render-opts {:id \"solutions.2015.day06/input-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dryaWFamQn5VBuSHLJXGpfgbLUTKh\"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id \"solutions.2015.day06/markdown-5drZvDZMFFd3aR14Rskr1tyWLHj3wX\"} [\"h2\" {:id \"expand-an-instruction-into-points\"} [:<> \"Expand an instruction into points\"]] [:p [:<> \"Given the second half of an instruction (\"] [:code [:<> \"0,0 through 4,0\"]] [:<> \"), split out the\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-html, :hash \"5dtFMoRpfSur3BJ5RKN8sHB4mECYMZ\"}}] [:<> \"numbers into x's and y's, loop through a range of those numbers and return\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-html, :hash \"5dtFMoRpfSur3BJ5RKN8sHB4mECYMZ\"}}] [:<> \"the expanded co-ordinates.\"]]], :nextjournal/render-opts {:id \"solutions.2015.day06/markdown-5drZvDZMFFd3aR14Rskr1tyWLHj3wX\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn identity, :hash \"5dsjzwxRkivFXiBf1NDMWmH54cVWV1\"}} {:path [], :nextjournal/value \"(defn expand-line [instruction]\\n  (let [[x1 y1 x2 y2] (map parse-long (re-seq #\\\"\\\\d+\\\" (str instruction)))]\\n    (for [x (range x1 (+ 1 x2))\\n          y (range y1 (+ 1 y2))]\\n      [x y])))\", :nextjournal/render-opts {:loc {:line 58, :end-line 62, :column 1, :end-column 15}, :id \"solutions.2015.day06/expand-line-code\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dtogCRMFvgKZ3gMGuwZAef65oxRZD\"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id \"solutions.2015.day06/markdown-5dqqAyVanXBXkgZXamokn6GR9kisnV\"} [:p [:<> \"Which looks like\"]]], :nextjournal/render-opts {:id \"solutions.2015.day06/markdown-5dqqAyVanXBXkgZXamokn6GR9kisnV\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn identity, :hash \"5dsjzwxRkivFXiBf1NDMWmH54cVWV1\"}} {:path [], :nextjournal/value \"(expand-line \\\"0,0 through 4,0\\\")\", :nextjournal/render-opts {:loc {:line 67, :end-line 67, :column 1, :end-column 32}, :id \"solutions.2015.day06/anon-expr-5dtDSoxTQXcBygqqXXMFQq42Gfzhse-code\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dtogCRMFvgKZ3gMGuwZAef65oxRZD\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value [{:path [0], :nextjournal/value [{:path [0 0], :nextjournal/value 0, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5drsU4XXFvRiNxHZXiNRRP4gBX7jiW\"}} {:path [0 1], :nextjournal/value 0, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5drsU4XXFvRiNxHZXiNRRP4gBX7jiW\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/vector-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"[\", :closing-paren (\"]\"), :page-size 20, :hash \"5dsPqhnXQ6NY7bfSdVZe5SH2Voaoff\"}} {:path [1], :nextjournal/value [{:path [1 0], :nextjournal/value 1, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5drsU4XXFvRiNxHZXiNRRP4gBX7jiW\"}} {:path [1 1], :nextjournal/value 0, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5drsU4XXFvRiNxHZXiNRRP4gBX7jiW\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/vector-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"[\", :closing-paren (\"]\"), :page-size 20, :hash \"5dsPqhnXQ6NY7bfSdVZe5SH2Voaoff\"}} {:path [2], :nextjournal/value [{:path [2 0], :nextjournal/value 2, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5drsU4XXFvRiNxHZXiNRRP4gBX7jiW\"}} {:path [2 1], :nextjournal/value 0, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5drsU4XXFvRiNxHZXiNRRP4gBX7jiW\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/vector-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"[\", :closing-paren (\"]\"), :page-size 20, :hash \"5dsPqhnXQ6NY7bfSdVZe5SH2Voaoff\"}} {:path [3], :nextjournal/value [{:path [3 0], :nextjournal/value 3, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5drsU4XXFvRiNxHZXiNRRP4gBX7jiW\"}} {:path [3 1], :nextjournal/value 0, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5drsU4XXFvRiNxHZXiNRRP4gBX7jiW\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/vector-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"[\", :closing-paren (\"]\"), :page-size 20, :hash \"5dsPqhnXQ6NY7bfSdVZe5SH2Voaoff\"}} {:path [4], :nextjournal/value [{:path [4 0], :nextjournal/value 4, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5drsU4XXFvRiNxHZXiNRRP4gBX7jiW\"}} {:path [4 1], :nextjournal/value 0, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5drsU4XXFvRiNxHZXiNRRP4gBX7jiW\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/vector-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"[\", :closing-paren (\"]\" \")\"), :page-size 20, :hash \"5dsPqhnXQ6NY7bfSdVZe5SH2Voaoff\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/sequential-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"(\", :page-size 20, :hash \"5dsbke2PwYQkQmXANR3WnQrqsZk2MW\"}, :nextjournal/render-opts {:id \"solutions.2015.day06/anon-expr-5dtDSoxTQXcBygqqXXMFQq42Gfzhse-result\"}}, :nextjournal/blob-id \"5dsGM9HLSnm9nRKQkxDPGYQPEcu8Zi\", :nextjournal/fetch-opts {:blob-id \"5dsGM9HLSnm9nRKQkxDPGYQPEcu8Zi\"}, :nextjournal/hash \"8VvADrEfKFHbho3dR2EJNYdLrLpoP7pM1Z4PMAnS4Y46rxWhGnyZV1h9EZpBwy1sPQG3dcyr65ustkVferMTFtuuhR\"}, :nextjournal/render-opts {:id \"solutions.2015.day06/anon-expr-5dtDSoxTQXcBygqqXXMFQq42Gfzhse-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dryaWFamQn5VBuSHLJXGpfgbLUTKh\"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id \"solutions.2015.day06/markdown-5duDPm3YVpdUjujN6Gvejie2r6i96H\"} [\"h2\" {:id \"clamp-a-value-between-bounds\"} [:<> \"Clamp a value between bounds\"]] [:p [:<> \"Simple function to \\\"clamp\\\" a value between bounds, which we use to make sure\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-html, :hash \"5dtFMoRpfSur3BJ5RKN8sHB4mECYMZ\"}}] [:<> \"the \"] [:code [:<> \"dec\"]] [:<> \" function doesn't go into negatives.\"]]], :nextjournal/render-opts {:id \"solutions.2015.day06/markdown-5duDPm3YVpdUjujN6Gvejie2r6i96H\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn identity, :hash \"5dsjzwxRkivFXiBf1NDMWmH54cVWV1\"}} {:path [], :nextjournal/value \"(defn clamp\\n  ([value]\\n   (clamp value 0 Integer/MAX_VALUE))\\n  ([value min]\\n   (clamp value min Integer/MAX_VALUE))\\n  ([value min max]\\n   (cond\\n     (< value min) min\\n     (> value max) max\\n     :else value)))\", :nextjournal/render-opts {:loc {:line 74, :end-line 83, :column 1, :end-column 20}, :id \"solutions.2015.day06/clamp-code\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dtogCRMFvgKZ3gMGuwZAef65oxRZD\"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id \"solutions.2015.day06/markdown-5dtUK4cJuWgCa5JP8dhyJK2oXjHNQ4\"} [\"h2\" {:id \"update-current-state\"} [:<> \"Update current state\"]] [:p [:<> \"Reduce over the new \"] [:code [:<> \"points\"]] [:<> \" and update the \"] [:code [:<> \"state\"]] [:<> \" with \"] [:code [:<> \"action\"]] [:<> \". Clamp the\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-html, :hash \"5dtFMoRpfSur3BJ5RKN8sHB4mECYMZ\"}}] [:<> \"value if needed.\"]]], :nextjournal/render-opts {:id \"solutions.2015.day06/markdown-5dtUK4cJuWgCa5JP8dhyJK2oXjHNQ4\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn identity, :hash \"5dsjzwxRkivFXiBf1NDMWmH54cVWV1\"}} {:path [], :nextjournal/value \"(defn update-state [state action points]\\n  (reduce\\n   (fn [state point]\\n     (->> 0\\n          (get state point)\\n          action\\n          clamp\\n          (assoc state point)))\\n   state\\n   points))\", :nextjournal/render-opts {:loc {:line 89, :end-line 98, :column 1, :end-column 12}, :id \"solutions.2015.day06/update-state-code\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dtogCRMFvgKZ3gMGuwZAef65oxRZD\"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id \"solutions.2015.day06/markdown-5du5Lwb9DKJCH9LtU2bgLWJPPkbzj3\"} [\"h2\" {:id \"perform-a-step-of-instruction\"} [:<> \"Perform a step of instruction\"]] [:p [:<> \"Apply an instruction, parsing the action and returning the new state\"]]], :nextjournal/render-opts {:id \"solutions.2015.day06/markdown-5du5Lwb9DKJCH9LtU2bgLWJPPkbzj3\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn identity, :hash \"5dsjzwxRkivFXiBf1NDMWmH54cVWV1\"}} {:path [], :nextjournal/value \"(defn step [actions state instruction]\\n  (match/match [(str/split instruction #\\\" \\\")]\\n    [[\\\"turn\\\" direction & rst]]\\n    (update-state state (actions direction) (expand-line rst))\\n    [[\\\"toggle\\\" & rst]]\\n    (update-state state (actions \\\"toggle\\\") (expand-line rst))))\", :nextjournal/render-opts {:loc {:line 103, :end-line 108, :column 1, :end-column 64}, :id \"solutions.2015.day06/step-code\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dtogCRMFvgKZ3gMGuwZAef65oxRZD\"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id \"solutions.2015.day06/markdown-5dqwJhfa7hRZ5a4xz7EDPXYWofkGk5\"} [\"h2\" {:id \"solver\"} [:<> \"Solver\"]] [:p [:<> \"Generic solver, since both parts function the same here. Partially apply\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-html, :hash \"5dtFMoRpfSur3BJ5RKN8sHB4mECYMZ\"}}] [:code [:<> \"step\"]] [:<> \" over every instruction, get the values and sum them\"]]], :nextjournal/render-opts {:id \"solutions.2015.day06/markdown-5dqwJhfa7hRZ5a4xz7EDPXYWofkGk5\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn identity, :hash \"5dsjzwxRkivFXiBf1NDMWmH54cVWV1\"}} {:path [], :nextjournal/value \"(defn solve [actions input]\\n  (->> input\\n       (reduce\\n        (partial step actions)\\n        {})\\n       (map second)\\n       (apply +)))\", :nextjournal/render-opts {:loc {:line 114, :end-line 120, :column 1, :end-column 19}, :id \"solutions.2015.day06/solve-code\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dtogCRMFvgKZ3gMGuwZAef65oxRZD\"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id \"solutions.2015.day06/markdown-5drSemgiRSnQSfrFMoaJDeG2TCknxp\"} [\"h2\" {:id \"part-1\"} [:<> \"Part 1\"]] [:p [:<> \"Phew! So for part 1, it's just a simple case of \\\"on\\\" and \\\"off\\\"; which looks like\"]]], :nextjournal/render-opts {:id \"solutions.2015.day06/markdown-5drSemgiRSnQSfrFMoaJDeG2TCknxp\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn identity, :hash \"5dsjzwxRkivFXiBf1NDMWmH54cVWV1\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value [{:path [0], :nextjournal/value [{:path [0 0], :nextjournal/value \"State\", :nextjournal/viewer {:name nextjournal.clerk.viewer/string-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-string, :page-size 80, :hash \"5drQUUMNRFgC5rkd3p25naP9ThRnCw\"}} {:path [0 1], :nextjournal/value \"Action\", :nextjournal/viewer {:name nextjournal.clerk.viewer/string-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-string, :page-size 80, :hash \"5drQUUMNRFgC5rkd3p25naP9ThRnCw\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/table-head-viewer, :render-fn #viewer-fn (fn [header-row {:as opts, :keys [path number-col?]}] [:thead (into [:tr] (map-indexed (fn [i {:as header-cell, :nextjournal/keys [value]}] (let [title (when (or (string? value) (keyword? value) (symbol? value)) value)] [:th.pl-6.pr-2.py-1.align-bottom.font-medium.top-0.z-10.bg-white.dark:bg-slate-900.border-b.border-gray-300.dark:border-slate-700 (cond-> {:class (when (and (ifn? number-col?) (number-col? i)) \"text-right\")} title (assoc :title title)) (nextjournal.clerk.render/inspect-presented opts header-cell)]))) header-row)]), :hash \"5drt637Bhj8Km1X2P9TzJipvkFDZqw\"}} {:path [1], :nextjournal/value [{:path [1 0], :nextjournal/value [{:path [1 0 0], :nextjournal/value \"turn on\", :nextjournal/viewer {:name nextjournal.clerk.viewer/string-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-string, :page-size 80, :hash \"5drQUUMNRFgC5rkd3p25naP9ThRnCw\"}} {:path [1 0 1], :nextjournal/value \"1\", :nextjournal/viewer {:name nextjournal.clerk.viewer/string-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-string, :page-size 80, :hash \"5drQUUMNRFgC5rkd3p25naP9ThRnCw\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/table-row-viewer, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \"bg-black/5 dark:bg-gray-800\" \"bg-white dark:bg-gray-900\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (and (ifn? number-col?) (number-col? idx)) {:class \"text-right\"}) (nextjournal.clerk.render/inspect-presented opts cell)])) row)), :hash \"5dt2e64fJZQ8AecSLyWZUvmr3GpKEs\"}} {:path [1 1], :nextjournal/value [{:path [1 1 0], :nextjournal/value \"turn off\", :nextjournal/viewer {:name nextjournal.clerk.viewer/string-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-string, :page-size 80, :hash \"5drQUUMNRFgC5rkd3p25naP9ThRnCw\"}} {:path [1 1 1], :nextjournal/value \"0\", :nextjournal/viewer {:name nextjournal.clerk.viewer/string-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-string, :page-size 80, :hash \"5drQUUMNRFgC5rkd3p25naP9ThRnCw\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/table-row-viewer, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \"bg-black/5 dark:bg-gray-800\" \"bg-white dark:bg-gray-900\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (and (ifn? number-col?) (number-col? idx)) {:class \"text-right\"}) (nextjournal.clerk.render/inspect-presented opts cell)])) row)), :hash \"5dt2e64fJZQ8AecSLyWZUvmr3GpKEs\"}} {:path [1 2], :nextjournal/value [{:path [1 2 0], :nextjournal/value \"toggle\", :nextjournal/viewer {:name nextjournal.clerk.viewer/string-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-string, :page-size 80, :hash \"5drQUUMNRFgC5rkd3p25naP9ThRnCw\"}} {:path [1 2 1], :nextjournal/value \"Set 1 to 0 and vice versa\", :nextjournal/viewer {:name nextjournal.clerk.viewer/string-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-string, :page-size 80, :hash \"5drQUUMNRFgC5rkd3p25naP9ThRnCw\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/table-row-viewer, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \"bg-black/5 dark:bg-gray-800\" \"bg-white dark:bg-gray-900\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (and (ifn? number-col?) (number-col? idx)) {:class \"text-right\"}) (nextjournal.clerk.render/inspect-presented opts cell)])) row)), :hash \"5dt2e64fJZQ8AecSLyWZUvmr3GpKEs\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/table-body-viewer, :render-fn #viewer-fn (fn [rows opts] (into [:tbody] (map-indexed (fn [idx row] (nextjournal.clerk.render/inspect-presented (update opts :path conj idx) row))) rows)), :hash \"5drS7uu9cHLufmVW24GCUNLcASJ37e\"}}], :nextjournal/width :wide, :nextjournal/render-opts {:num-cols 2, :number-col? #{}, :id \"solutions.2015.day06/anon-expr-5dtzE5PQwzZYVaf7HEgn66bsfdzw9k-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/table-markup-viewer, :render-fn #viewer-fn (fn [head+body opts] [:div (into [nextjournal.clerk.render/render-table-with-sticky-header] (nextjournal.clerk.render/inspect-children opts) head+body)]), :hash \"5dsufpmFMps3gZ2XtLHm3e5XorYXmR\"}}, :nextjournal/blob-id \"5dsixtXypyLj2nF72B2tZbEfsk6Wmr\", :nextjournal/fetch-opts {:blob-id \"5dsixtXypyLj2nF72B2tZbEfsk6Wmr\"}, :nextjournal/hash \"8VueseohmirJdty6pbn1UipYn1g6tQ5oAfW8wV4BMimNwLkWW1FHqwnpH9KwivC7DbTzSHgbB84ydejHzmEtfQmrsc\"}, :nextjournal/width :wide, :nextjournal/render-opts {:num-cols 2, :number-col? #{}, :id \"solutions.2015.day06/anon-expr-5dtzE5PQwzZYVaf7HEgn66bsfdzw9k-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dryaWFamQn5VBuSHLJXGpfgbLUTKh\"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id \"solutions.2015.day06/markdown-5dsuWJkUwkz4PLFFz2uBDGaoLWfZcK\"} [:p [:<> \"Apply those actions to the input\"]]], :nextjournal/render-opts {:id \"solutions.2015.day06/markdown-5dsuWJkUwkz4PLFFz2uBDGaoLWfZcK\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn identity, :hash \"5dsjzwxRkivFXiBf1NDMWmH54cVWV1\"}} {:path [], :nextjournal/value \"(defn part-1\\n  [input]\\n  (solve\\n   {\\\"on\\\" (fn [_] 1)\\n    \\\"off\\\" (fn [_] 0)\\n    \\\"toggle\\\" (fn [n] (if (= n 1) 0 1))}\\n   input))\", :nextjournal/render-opts {:loc {:line 132, :end-line 138, :column 1, :end-column 11}, :id \"solutions.2015.day06/part-1-code\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dtogCRMFvgKZ3gMGuwZAef65oxRZD\"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id \"solutions.2015.day06/markdown-5dsCmyHsvB8C19ZLVyDeAMusv11HXT\"} [:p [:<> \"Which gives our answer\"]]], :nextjournal/render-opts {:id \"solutions.2015.day06/markdown-5dsCmyHsvB8C19ZLVyDeAMusv11HXT\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn identity, :hash \"5dsjzwxRkivFXiBf1NDMWmH54cVWV1\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value 377891, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5drsU4XXFvRiNxHZXiNRRP4gBX7jiW\"}, :nextjournal/render-opts {:id \"solutions.2015.day06/anon-expr-5dqyLURFdt23SKEykkvPQp381ApJNL-result\"}}, :nextjournal/blob-id \"5du3KTkQVWrYfCLxcpo5EFptJ8TacS\", :nextjournal/fetch-opts {:blob-id \"5du3KTkQVWrYfCLxcpo5EFptJ8TacS\"}, :nextjournal/hash \"8Vt2a2GH2y4WhbTEV3U4ipPzjjNLcRFnHHYgxFrQbid6WV4A2LbRLrXMi4i3txLScreLABkJcYpKevwzYNRqwfX6a4\"}, :nextjournal/render-opts {:id \"solutions.2015.day06/anon-expr-5dqyLURFdt23SKEykkvPQp381ApJNL-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dryaWFamQn5VBuSHLJXGpfgbLUTKh\"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id \"solutions.2015.day06/markdown-5ds6hm1jNqJfaZY84vTk1NeU6mywYw\"} [\"h2\" {:id \"part-2\"} [:<> \"Part 2\"]] [:p [:<> \"Phew! So for part 1, it's just a simple case of \\\"on\\\" and \\\"off\\\"; which looks like\"]]], :nextjournal/render-opts {:id \"solutions.2015.day06/markdown-5ds6hm1jNqJfaZY84vTk1NeU6mywYw\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn identity, :hash \"5dsjzwxRkivFXiBf1NDMWmH54cVWV1\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value [{:path [0], :nextjournal/value [{:path [0 0], :nextjournal/value \"State\", :nextjournal/viewer {:name nextjournal.clerk.viewer/string-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-string, :page-size 80, :hash \"5drQUUMNRFgC5rkd3p25naP9ThRnCw\"}} {:path [0 1], :nextjournal/value \"Action\", :nextjournal/viewer {:name nextjournal.clerk.viewer/string-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-string, :page-size 80, :hash \"5drQUUMNRFgC5rkd3p25naP9ThRnCw\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/table-head-viewer, :render-fn #viewer-fn (fn [header-row {:as opts, :keys [path number-col?]}] [:thead (into [:tr] (map-indexed (fn [i {:as header-cell, :nextjournal/keys [value]}] (let [title (when (or (string? value) (keyword? value) (symbol? value)) value)] [:th.pl-6.pr-2.py-1.align-bottom.font-medium.top-0.z-10.bg-white.dark:bg-slate-900.border-b.border-gray-300.dark:border-slate-700 (cond-> {:class (when (and (ifn? number-col?) (number-col? i)) \"text-right\")} title (assoc :title title)) (nextjournal.clerk.render/inspect-presented opts header-cell)]))) header-row)]), :hash \"5drt637Bhj8Km1X2P9TzJipvkFDZqw\"}} {:path [1], :nextjournal/value [{:path [1 0], :nextjournal/value [{:path [1 0 0], :nextjournal/value \"turn on\", :nextjournal/viewer {:name nextjournal.clerk.viewer/string-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-string, :page-size 80, :hash \"5drQUUMNRFgC5rkd3p25naP9ThRnCw\"}} {:path [1 0 1], :nextjournal/value \"Add 1\", :nextjournal/viewer {:name nextjournal.clerk.viewer/string-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-string, :page-size 80, :hash \"5drQUUMNRFgC5rkd3p25naP9ThRnCw\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/table-row-viewer, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \"bg-black/5 dark:bg-gray-800\" \"bg-white dark:bg-gray-900\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (and (ifn? number-col?) (number-col? idx)) {:class \"text-right\"}) (nextjournal.clerk.render/inspect-presented opts cell)])) row)), :hash \"5dt2e64fJZQ8AecSLyWZUvmr3GpKEs\"}} {:path [1 1], :nextjournal/value [{:path [1 1 0], :nextjournal/value \"turn off\", :nextjournal/viewer {:name nextjournal.clerk.viewer/string-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-string, :page-size 80, :hash \"5drQUUMNRFgC5rkd3p25naP9ThRnCw\"}} {:path [1 1 1], :nextjournal/value \"Minus 1, to a lower bound of 0\", :nextjournal/viewer {:name nextjournal.clerk.viewer/string-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-string, :page-size 80, :hash \"5drQUUMNRFgC5rkd3p25naP9ThRnCw\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/table-row-viewer, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \"bg-black/5 dark:bg-gray-800\" \"bg-white dark:bg-gray-900\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (and (ifn? number-col?) (number-col? idx)) {:class \"text-right\"}) (nextjournal.clerk.render/inspect-presented opts cell)])) row)), :hash \"5dt2e64fJZQ8AecSLyWZUvmr3GpKEs\"}} {:path [1 2], :nextjournal/value [{:path [1 2 0], :nextjournal/value \"toggle\", :nextjournal/viewer {:name nextjournal.clerk.viewer/string-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-string, :page-size 80, :hash \"5drQUUMNRFgC5rkd3p25naP9ThRnCw\"}} {:path [1 2 1], :nextjournal/value \"Add 2\", :nextjournal/viewer {:name nextjournal.clerk.viewer/string-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-string, :page-size 80, :hash \"5drQUUMNRFgC5rkd3p25naP9ThRnCw\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/table-row-viewer, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \"bg-black/5 dark:bg-gray-800\" \"bg-white dark:bg-gray-900\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (and (ifn? number-col?) (number-col? idx)) {:class \"text-right\"}) (nextjournal.clerk.render/inspect-presented opts cell)])) row)), :hash \"5dt2e64fJZQ8AecSLyWZUvmr3GpKEs\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/table-body-viewer, :render-fn #viewer-fn (fn [rows opts] (into [:tbody] (map-indexed (fn [idx row] (nextjournal.clerk.render/inspect-presented (update opts :path conj idx) row))) rows)), :hash \"5drS7uu9cHLufmVW24GCUNLcASJ37e\"}}], :nextjournal/width :wide, :nextjournal/render-opts {:num-cols 2, :number-col? #{}, :id \"solutions.2015.day06/anon-expr-5dsWvxkwStFnj3yAcEUkFxrJRs6mft-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/table-markup-viewer, :render-fn #viewer-fn (fn [head+body opts] [:div (into [nextjournal.clerk.render/render-table-with-sticky-header] (nextjournal.clerk.render/inspect-children opts) head+body)]), :hash \"5dsufpmFMps3gZ2XtLHm3e5XorYXmR\"}}, :nextjournal/blob-id \"5du5BjMaKNpjRW55Wfa93uJef2Aorc\", :nextjournal/fetch-opts {:blob-id \"5du5BjMaKNpjRW55Wfa93uJef2Aorc\"}, :nextjournal/hash \"8VubdpQWdECiwS42WhpK9n4WueszTGsACGRDScoSY6gT8iDnN248r1CcQ9G2NnsqizcJyhFJkDcbrynFCrXvNG6kMD\"}, :nextjournal/width :wide, :nextjournal/render-opts {:num-cols 2, :number-col? #{}, :id \"solutions.2015.day06/anon-expr-5dsWvxkwStFnj3yAcEUkFxrJRs6mft-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dryaWFamQn5VBuSHLJXGpfgbLUTKh\"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id \"solutions.2015.day06/markdown-5dsuWJkUwkz4PLFFz2uBDGaoLWfZcK#2\"} [:p [:<> \"Apply those actions to the input\"]]], :nextjournal/render-opts {:id \"solutions.2015.day06/markdown-5dsuWJkUwkz4PLFFz2uBDGaoLWfZcK#2\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn identity, :hash \"5dsjzwxRkivFXiBf1NDMWmH54cVWV1\"}} {:path [], :nextjournal/value \"(defn part-2\\n  [input]\\n  (solve\\n   {\\\"on\\\" inc\\n    \\\"off\\\" dec\\n    \\\"toggle\\\" #(+ 2 %)}\\n   input))\", :nextjournal/render-opts {:loc {:line 155, :end-line 161, :column 1, :end-column 11}, :id \"solutions.2015.day06/part-2-code\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dtogCRMFvgKZ3gMGuwZAef65oxRZD\"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id \"solutions.2015.day06/markdown-5dsCmyHsvB8C19ZLVyDeAMusv11HXT#2\"} [:p [:<> \"Which gives our answer\"]]], :nextjournal/render-opts {:id \"solutions.2015.day06/markdown-5dsCmyHsvB8C19ZLVyDeAMusv11HXT#2\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn identity, :hash \"5dsjzwxRkivFXiBf1NDMWmH54cVWV1\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value 14110788, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5drsU4XXFvRiNxHZXiNRRP4gBX7jiW\"}, :nextjournal/render-opts {:id \"solutions.2015.day06/anon-expr-5dstDS4zmbArT87H81wfsNt68WWiqo-result\"}}, :nextjournal/blob-id \"5dsMXfkfexRMjD4T1YSCbkTJw66W7p\", :nextjournal/fetch-opts {:blob-id \"5dsMXfkfexRMjD4T1YSCbkTJw66W7p\"}, :nextjournal/hash \"8VtHqDDWxoPgD6BEeQCr35tEjVn1QPZmxarninvPDwPy931MiFd4B3ESjQkeHsLDEz5YtaPwGpf9RpNt2Bw9PmYUDr\"}, :nextjournal/render-opts {:id \"solutions.2015.day06/anon-expr-5dstDS4zmbArT87H81wfsNt68WWiqo-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dryaWFamQn5VBuSHLJXGpfgbLUTKh\"}}]}, :nextjournal/viewer {:name nextjournal.clerk.viewer/notebook-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-notebook, :hash \"5dsiHybTyGGTEpReRaV7nfNxoDgnKx\"}}}, :current-path \"src/solutions/2015/day06\", :resource->url {\"/js/viewer.js\" \"https://storage.clerk.garden/nextjournal/clerk-assets@43sknWSpfsWGp1HAfZe1dLuBjmWH/viewer.js?immutable=true\", \"/css/viewer.css\" \"_data/8VtDnQGgPmpY9sEDrrcAF9en62cCkj8LzQSfBzwMbkBxxCsmXPFU7wkvzUwha6kzvjGXkj3XRbD4gaW2CrqWE52L9j.css\"}, :index \"src/index.clj\"}".replaceAll('nextjournal.clerk.view/escape-closing-script-tag', 'script')
viewer.init(viewer.read_string(state))
</script></body></html>