<!DOCTYPE html>
<html><head><meta charset="UTF-8"><meta content="width=device-width, initial-scale=1" name="viewport"><meta content="Tried looking for a clever solution here, but I don&apos;t think one exists so sadly this will have to be extremely trivial." property="og:description"><meta content="Problem" property="og:title"><meta content="article:clerk" property="og:type"><meta content="summary_large_image" name="twitter:card"><link href="./../../../../_data/8VtDnQGgPmpY9sEDrrcAF9en62cCkj8LzQSfBzwMbkBxxCsmXPFU7wkvzUwha6kzvjGXkj3XRbD4gaW2CrqWE52L9j.css" rel="stylesheet" type="text/css"><script src="https://storage.clerk.garden/nextjournal/clerk-assets@43sknWSpfsWGp1HAfZe1dLuBjmWH/viewer.js?immutable=true" type="module"></script><link href="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.css" rel="stylesheet" type="text/css"><link href="https://fonts.bunny.net" rel="preconnect"><link href="https://fonts.bunny.net/css?family=fira-mono:400,700%7Cfira-sans:400,400i,500,500i,700,700i%7Cfira-sans-condensed:700,700i%7Cpt-serif:400,400i,700,700i" rel="stylesheet" type="text/css"><style id="extra-styles">em {
    font-style: normal !important;
}

html:not(.dark) pre {
    background-color: #f1f5f9 !important;
    color: #7aaac4 !important;
}

.dark em {
    color: #fff !important;
    text-shadow: 0 0 5px #fff !important;
}

.dark pre {
    background-color: rgb(31 41 55 / var(--tw-bg-opacity)) !important;
}

html:not(.dark) em {
    color: #000 !important;
    text-shadow: 0 0 2px #000 !important;
}

.viewer-result:first-child {
    display: none !important;
}
</style></head><body class="dark:bg-gray-900"><div id="clerk"></div><script type="module">let viewer = nextjournal.clerk.sci_env
let state = "{:bundle? false, :path->doc {\"src/solutions/2015/day04\" {:path [], :nextjournal/value {:toc [{:title \"Problem\", :emoji nil, :path \"#problem\", :items []} {:title \"Solution\", :emoji nil, :path \"#solution\", :items [{:title \"MD5 function\", :emoji nil, :path \"#md5-function\", :items []} {:title \"Compute the hash\", :emoji nil, :path \"#compute-the-hash\", :items []} {:title \"Part 1\", :emoji nil, :path \"#part-1\", :items []} {:title \"Part 2\", :emoji nil, :path \"#part-2\", :items []}]}], :sidenotes? false, :toc-visibility true, :atom-var-name->state #viewer-eval (nextjournal.clerk.render/intern-atoms! {}), :ns #viewer-eval (ns solutions.2015.day04), :file \"src/solutions/2015/day04.clj\", :scope solutions.2015.day04, :bundle? false, :header {:path [], :nextjournal/value [:div.viewer.w-full.max-w-prose.px-8.not-prose.mt-3 [:div.mb-8.text-xs.sans-serif.text-slate-400 nil [:<> [:a.font-medium.border-b.border-dotted.border-slate-300.hover:text-indigo-500.hover:border-indigo-500.dark:border-slate-500.dark:hover:text-white.dark:hover:border-white.transition {:href \"./../../../../\"} \"Index\"] [:span.mx-2 \"â€¢\"]] [:span \"Served from \" [:a.font-medium.border-b.border-dotted.border-slate-300.hover:text-indigo-500.hover:border-indigo-500.dark:border-slate-500.dark:hover:text-white.dark:hover:border-white.transition {:href \"https://clerk.vision\"} \"Clerk\"] nil]]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-html, :hash \"5dtFMoRpfSur3BJ5RKN8sHB4mECYMZ\"}}, :open-graph {:type \"article:clerk\", :title \"Problem\", :description \"Tried looking for a clever solution here, but I don't think one exists so sadly this will have to be extremely trivial.\"}, :title \"Problem\", :blocks [{:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id \"solutions.2015.day04/markdown-5dqq5acBASUPKy7JX3Uoyxc1KPMN9A\"} [\"h1\" {:id \"problem\"} [:<> \"Problem\"]]], :nextjournal/render-opts {:id \"solutions.2015.day04/markdown-5dqq5acBASUPKy7JX3Uoyxc1KPMN9A\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn identity, :hash \"5dsjzwxRkivFXiBf1NDMWmH54cVWV1\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value [:div {:dangerouslySetInnerHTML {:__html \"<article class=\\\"day-desc\\\"><h2>--- Day 4: The Ideal Stocking Stuffer ---</h2><p>Santa needs help <a href=\\\"https://en.wikipedia.org/wiki/Bitcoin#Mining\\\">mining</a> some <span title=\\\"Hey, mined your own business!\\\">AdventCoins</span> (very similar to <a href=\\\"https://en.wikipedia.org/wiki/Bitcoin\\\">bitcoins</a>) to use as gifts for all the economically forward-thinking little girls and boys.</p>\\n<p>To do this, he needs to find <a href=\\\"https://en.wikipedia.org/wiki/MD5\\\">MD5</a> hashes which, in <a href=\\\"https://en.wikipedia.org/wiki/Hexadecimal\\\">hexadecimal</a>, start with at least <em>five zeroes</em>.  The input to the MD5 hash is some secret key (your puzzle input, given below) followed by a number in decimal. To mine AdventCoins, you must find Santa the lowest positive number (no leading zeroes: <code>1</code>, <code>2</code>, <code>3</code>, ...) that produces such a hash.</p>\\n<p>For example:</p>\\n<ul>\\n<li>If your secret key is <code>abcdef</code>, the answer is <code>609043</code>, because the MD5 hash of <code>abcdef609043</code> starts with five zeroes (<code>000001dbbfa...</code>), and it is the lowest such number to do so.</li>\\n<li>If your secret key is <code>pqrstuv</code>, the lowest number it combines with to make an MD5 hash starting with five zeroes is <code>1048970</code>; that is, the MD5 hash of <code>pqrstuv1048970</code> looks like <code>000006136ef...</code>.</li>\\n</ul>\\n</article><article class=\\\"day-desc\\\"><h2 id=\\\"part2\\\">--- Part Two ---</h2><p>Now find one that starts with <em>six zeroes</em>.</p>\\n</article>\"}}], :nextjournal/visibility {:code :hide, :result :show}, :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-html, :hash \"5dtFMoRpfSur3BJ5RKN8sHB4mECYMZ\"}, :nextjournal/render-opts {:id \"solutions.2015.day04/anon-expr-5dsgqpANXgse2RQWWJf358EHnbNZmc-result\"}}, :nextjournal/blob-id \"5dtpNVEHvnzSSzLQuhzHqthWT6MZpE\", :nextjournal/fetch-opts {:blob-id \"5dtpNVEHvnzSSzLQuhzHqthWT6MZpE\"}, :nextjournal/hash \"8VxUrC43q4cpZrdxETxC5di3YBFjAs8RVHNyg8mGD62Ltur12rARbVUnyiRqyWmvGJaa85MiC5yEQR1z5HpYSGymhn\"}, :nextjournal/render-opts {:id \"solutions.2015.day04/anon-expr-5dsgqpANXgse2RQWWJf358EHnbNZmc-result\"}, :nextjournal/visibility {:code :hide, :result :show}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dryaWFamQn5VBuSHLJXGpfgbLUTKh\"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id \"solutions.2015.day04/markdown-5dtQ4FFAmXgTvdGBnndoa29sP3BFVC\"} [\"h1\" {:id \"solution\"} [:<> \"Solution\"]] [:p [:<> \"Tried looking for a clever solution here, but I don't think one exists so\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-html, :hash \"5dtFMoRpfSur3BJ5RKN8sHB4mECYMZ\"}}] [:<> \"sadly this will have to be extremely trivial.\"]] [:p [:<> \"How trivial? Given a pre-determined key, give the lowest possible integer to\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-html, :hash \"5dtFMoRpfSur3BJ5RKN8sHB4mECYMZ\"}}] [:<> \"produce an MD5 hash that starts with 5 then 6 zeroes.\"]] [:p [:<> \"First things first, let's load our input and parse it\"]]], :nextjournal/render-opts {:id \"solutions.2015.day04/markdown-5dtQ4FFAmXgTvdGBnndoa29sP3BFVC\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn identity, :hash \"5dsjzwxRkivFXiBf1NDMWmH54cVWV1\"}} {:path [], :nextjournal/value \"(def input (->> (slurp (io/resource \\\"inputs/2015/day04.txt\\\")) ;; Load the resource\\n                str/split-lines ;; Split into lines\\n                first))                                       ;; Get the secret\", :nextjournal/render-opts {:loc {:line 24, :end-line 26, :column 1, :end-column 24}, :id \"solutions.2015.day04/input-code\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dtogCRMFvgKZ3gMGuwZAef65oxRZD\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"ckczppom\", :nextjournal/viewer {:name nextjournal.clerk.viewer/string-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsoVKnSNgnKXj1Cv4qvD6xr6wMks7\"}, :nextjournal/render-opts {:id \"solutions.2015.day04/input-result\"}}, :nextjournal/blob-id \"5dsWfyky8GLMWj7Q3bM374fJiBJMVw\", :nextjournal/fetch-opts {:blob-id \"5dsWfyky8GLMWj7Q3bM374fJiBJMVw\"}, :nextjournal/hash \"8VvhobzAwQewaTkdL63zQXskDn65gzVWt2HodLhboiEc7D9YjwrCLqWhC9xZ6fWzosbvQVfkbiQw3sJ38QqLNt8KFw\"}, :nextjournal/render-opts {:id \"solutions.2015.day04/input-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dryaWFamQn5VBuSHLJXGpfgbLUTKh\"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id \"solutions.2015.day04/markdown-5dtXd5WK5eF7oMssYdJ5XgzTTxDSBR\"} [\"h2\" {:id \"md5-function\"} [:<> \"MD5 function\"]] [:p [:<> \"No messing around here, extremely bare-bones hash compute.\"]]], :nextjournal/render-opts {:id \"solutions.2015.day04/markdown-5dtXd5WK5eF7oMssYdJ5XgzTTxDSBR\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn identity, :hash \"5dsjzwxRkivFXiBf1NDMWmH54cVWV1\"}} {:path [], :nextjournal/value \"(defn md5\\n  [^String s]\\n  (let [algorithm (MessageDigest/getInstance \\\"MD5\\\")\\n        raw (.digest algorithm (.getBytes s))]\\n    (format \\\"%032x\\\" (BigInteger. 1 raw))))\", :nextjournal/render-opts {:loc {:line 31, :end-line 35, :column 1, :end-column 43}, :id \"solutions.2015.day04/md5-code\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dtogCRMFvgKZ3gMGuwZAef65oxRZD\"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id \"solutions.2015.day04/markdown-5dsBfCwj1JzkXv9rema5qU8VUpBC6t\"} [\"h2\" {:id \"compute-the-hash\"} [:<> \"Compute the hash\"]] [:p [:<> \"Compute the MD5 hash that satisfies the constraints, with a minor\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-html, :hash \"5dtFMoRpfSur3BJ5RKN8sHB4mECYMZ\"}}] [:<> \"optimization to only compute the limit once.\"]]], :nextjournal/render-opts {:id \"solutions.2015.day04/markdown-5dsBfCwj1JzkXv9rema5qU8VUpBC6t\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn identity, :hash \"5dsjzwxRkivFXiBf1NDMWmH54cVWV1\"}} {:path [], :nextjournal/value \"(defn compute-hash [limit]\\n  (let [limit (apply str (repeat limit \\\"0\\\"))]\\n    (first\\n     (filter\\n      #(str/starts-with? (md5 (str input %)) limit)\\n      (range)))))\", :nextjournal/render-opts {:loc {:line 40, :end-line 45, :column 1, :end-column 18}, :id \"solutions.2015.day04/compute-hash-code\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dtogCRMFvgKZ3gMGuwZAef65oxRZD\"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id \"solutions.2015.day04/markdown-5dsuQRVJ1FdfYrjTA3erTBbtLec138\"} [\"h2\" {:id \"part-1\"} [:<> \"Part 1\"]] [:p [:<> \"Check for a hash starting with 5 zeroes\"]]], :nextjournal/render-opts {:id \"solutions.2015.day04/markdown-5dsuQRVJ1FdfYrjTA3erTBbtLec138\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn identity, :hash \"5dsjzwxRkivFXiBf1NDMWmH54cVWV1\"}} {:path [], :nextjournal/value \"(defn part-1\\n  [input]\\n  (let [result (compute-hash 5)]\\n    (list\\n     result\\n     (md5 (str input result)))))\", :nextjournal/render-opts {:loc {:line 50, :end-line 55, :column 1, :end-column 33}, :id \"solutions.2015.day04/part-1-code\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dtogCRMFvgKZ3gMGuwZAef65oxRZD\"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id \"solutions.2015.day04/markdown-5dsCmyHsvB8C19ZLVyDeAMusv11HXT\"} [:p [:<> \"Which gives our answer\"]]], :nextjournal/render-opts {:id \"solutions.2015.day04/markdown-5dsCmyHsvB8C19ZLVyDeAMusv11HXT\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn identity, :hash \"5dsjzwxRkivFXiBf1NDMWmH54cVWV1\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value [{:path [0], :nextjournal/value 117946, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5drsU4XXFvRiNxHZXiNRRP4gBX7jiW\"}} {:path [1], :nextjournal/value \"00000fe1c139a2c710e9a5c03ec1af03\", :nextjournal/viewer {:name nextjournal.clerk.viewer/string-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\" \")\"), :page-size 80, :hash \"5dsoVKnSNgnKXj1Cv4qvD6xr6wMks7\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/sequential-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"(\", :page-size 20, :hash \"5dsbke2PwYQkQmXANR3WnQrqsZk2MW\"}, :nextjournal/render-opts {:id \"solutions.2015.day04/anon-expr-5dqyLURFdt23SKEykkvPQp381ApJNL-result\"}}, :nextjournal/blob-id \"5drXGQUdMJf7M2WLA2Znr8c7uQwiBc\", :nextjournal/fetch-opts {:blob-id \"5drXGQUdMJf7M2WLA2Znr8c7uQwiBc\"}, :nextjournal/hash \"8Vsto5WhCqk2wyQWT81BFWD4E9q9Typ1DBce8zKNyicreJrRj2t6kSRWM6aoUTmfwgMUtN2zjkz2KSu5LXj8yVMfzm\"}, :nextjournal/render-opts {:id \"solutions.2015.day04/anon-expr-5dqyLURFdt23SKEykkvPQp381ApJNL-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dryaWFamQn5VBuSHLJXGpfgbLUTKh\"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id \"solutions.2015.day04/markdown-5dtaWQnxhkmEiXFgUZvW4WQRrW5xe1\"} [\"h2\" {:id \"part-2\"} [:<> \"Part 2\"]] [:p [:<> \"Check for a hash starting with 6 zeroes\"]]], :nextjournal/render-opts {:id \"solutions.2015.day04/markdown-5dtaWQnxhkmEiXFgUZvW4WQRrW5xe1\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn identity, :hash \"5dsjzwxRkivFXiBf1NDMWmH54cVWV1\"}} {:path [], :nextjournal/value \"(defn part-2\\n  [input]\\n  (let [result (compute-hash 6)]\\n    (list\\n     result\\n     (md5 (str input result)))))\", :nextjournal/render-opts {:loc {:line 64, :end-line 69, :column 1, :end-column 33}, :id \"solutions.2015.day04/part-2-code\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dtogCRMFvgKZ3gMGuwZAef65oxRZD\"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id \"solutions.2015.day04/markdown-5dsCmyHsvB8C19ZLVyDeAMusv11HXT#2\"} [:p [:<> \"Which gives our answer\"]]], :nextjournal/render-opts {:id \"solutions.2015.day04/markdown-5dsCmyHsvB8C19ZLVyDeAMusv11HXT#2\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn identity, :hash \"5dsjzwxRkivFXiBf1NDMWmH54cVWV1\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value [{:path [0], :nextjournal/value 3938038, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5drsU4XXFvRiNxHZXiNRRP4gBX7jiW\"}} {:path [1], :nextjournal/value \"00000028023e3b4729684757f8dc3fbf\", :nextjournal/viewer {:name nextjournal.clerk.viewer/string-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\" \")\"), :page-size 80, :hash \"5dsoVKnSNgnKXj1Cv4qvD6xr6wMks7\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/sequential-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"(\", :page-size 20, :hash \"5dsbke2PwYQkQmXANR3WnQrqsZk2MW\"}, :nextjournal/render-opts {:id \"solutions.2015.day04/anon-expr-5dstDS4zmbArT87H81wfsNt68WWiqo-result\"}}, :nextjournal/blob-id \"5drrJCxEr3eyKx9QDaPeQAmx71AGkE\", :nextjournal/fetch-opts {:blob-id \"5drrJCxEr3eyKx9QDaPeQAmx71AGkE\"}, :nextjournal/hash \"8VwrLxXW9EiiWniex9Ty9UKQNfoNu83zr5KMMEJB1mxbAPUeSQZXmykpsgsmFFrrEqg1qeWJRSWfC98STnRLx6jzLf\"}, :nextjournal/render-opts {:id \"solutions.2015.day04/anon-expr-5dstDS4zmbArT87H81wfsNt68WWiqo-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dryaWFamQn5VBuSHLJXGpfgbLUTKh\"}}]}, :nextjournal/viewer {:name nextjournal.clerk.viewer/notebook-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-notebook, :hash \"5dsiHybTyGGTEpReRaV7nfNxoDgnKx\"}}}, :current-path \"src/solutions/2015/day04\", :resource->url {\"/js/viewer.js\" \"https://storage.clerk.garden/nextjournal/clerk-assets@43sknWSpfsWGp1HAfZe1dLuBjmWH/viewer.js?immutable=true\", \"/css/viewer.css\" \"_data/8VtDnQGgPmpY9sEDrrcAF9en62cCkj8LzQSfBzwMbkBxxCsmXPFU7wkvzUwha6kzvjGXkj3XRbD4gaW2CrqWE52L9j.css\"}, :index \"src/index.clj\"}".replaceAll('nextjournal.clerk.view/escape-closing-script-tag', 'script')
viewer.init(viewer.read_string(state))
</script></body></html>